{"version":3,"sources":["components/Dialogs/Message/Message.module.css","components/Navbar/Navbar.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/FormsControl/FormsControl.module.css","redux/reducers/dialogs-reducers.ts","components/Dialogs/DialogItem/avatar.png","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/common/FormsControl/FormsControl.tsx","utils/validators/validator.ts","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","components/Navbar/icons/avatar.jpg","components/Navbar/icons/profile.svg","components/Navbar/icons/friends.svg","components/Navbar/icons/messages.svg","components/Navbar/icons/news.svg","components/Navbar/icons/music.svg","components/Navbar/icons/settings.svg","components/Navbar/NavbarContainer.tsx","components/Navbar/Navbar.tsx","api/api.ts","redux/reducers/users-reducers.ts","components/Users/user_icon.png","components/common/Preloader/loader.gif","components/common/Preloader/Preolader.tsx","components/Users/Users.tsx","redux/users-selector.ts","components/Users/UsersContainer.tsx","redux/reducers/auth-reducers.ts","components/Login/Login.tsx","components/Profile/ProfileInfo/avatar.jpg","components/Profile/ProfileStatus/ProfileStatusHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","redux/reducers/profile-reducers.ts","components/Profile/MyPosts/Post/avatar.jpg","components/Profile/MyPosts/Post/liked.svg","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","components/Header/searchICON.png","components/Header/HeaderContainer.tsx","redux/reducers/app-reducers.ts","App.tsx","redux/reducers/sidebar-reducers.ts","redux/redux-store.ts","index.tsx","components/Users/Users.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Dialogs/Dialogs.module.css","components/Header/Header.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Dialogs/DialogItem/DialogItem.module.css"],"names":["module","exports","ADD_MESSAGE","initialState","dialogs","id","name","messages","message","DialogItem","props","dialogURL","className","style","dialog","activeClassName","nav","to","src","avatar","Message","FormControl","input","meta","child","hasError","touched","error","styles","formControl","children","Textarea","restProps","Input","required","value","maxLengthCreator","maxLength","length","maxLength10","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","DialogsContainer","compose","messagePage","dialogsItem","sidebar","friend","newMessageText","dispatch","onAddMessage","type","addMessageAC","dialogsElements","map","d","messagesElements","m","d_items","item","values","NavbarContainer","friendElements","f","alt","navbar","navbarElements","items","activeLink","profile","friends","news","music","settings","titleFriends","instance","axios","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","then","resp","data","delete","post","authAPI","email","password","rememberMe","profileAPI","userId","status","put","FOLLOW","UNFOLLOW","SETUSERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","follow","userID","unfollow","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","Preloader","preolader","Users","pagesCount","Math","ceil","pages","i","push","pagination","page","selectedPage","onClick","event","onPageChanged","u","avaAndBtn","photos","small","followed","disabled","some","unfollowMode","followMode","background","info","getUsers","createSelector","usersPage","filter","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","React","count","totalCount","resultCode","initState","login","setAuthUserDataAC","getAuthUserDataTC","LoginReduxForm","formBlock","inputs","checkBox","formSummaryError","loginTC","res","stopSubmit","_error","formData","ProfileStatusHooks","useState","editMode","setEditMode","setStatus","useEffect","onChange","e","text","currentTarget","onBlur","userUpdateStatus","autoFocus","onDoubleClick","ProfileInfo","profileInfo","user","inform","getUserStatus","fullName","aboutMe","jobStatus","lookingForAJob","contacts","instagram","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","posts","title","likeCounts","setUserStatusAC","Post","imgAvatar","likesBlock","liked","AddNewPostReduxForm","textForm","buttons","MyPostsContainer","profilePage","onAddPost","newPostText","addPostAC","postElements","myPosts","Profile","ProfileContainer","match","params","autorizedUserID","history","getUsersProfile","setUsersProfile","withRouter","Header","header","logo","searchBlock","width","height","loginBlock","logoutTC","HeaderContainer","initialized","App","initializedAppTC","path","render","exact","app","promise","Promise","all","reducer","combineReducers","action","console","log","newPost","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.244d0215.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Message_messages__32cnW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2kShT\",\"navbarElements\":\"Navbar_navbarElements__1QKN0\",\"items\":\"Navbar_items__2hxzF\",\"friend\":\"Navbar_friend__3KIsM\",\"titleFriends\":\"Navbar_titleFriends__2Ne7I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__2uM4E\",\"user\":\"ProfileInfo_user__Uv8qA\",\"description\":\"ProfileInfo_description__PEbEq\",\"name\":\"ProfileInfo_name__3Ghws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControl_error__7iFlF\",\"formSummaryError\":\"FormsControl_formSummaryError__V2cQO\",\"formBlock\":\"FormsControl_formBlock__2m8Yu\",\"inputs\":\"FormsControl_inputs__2C9V3\",\"checkBox\":\"FormsControl_checkBox__2H8tp\"};","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\ntype AddMessageAT = {\r\n  type: 'ADD-MESSAGE'\r\n  newMessageText: string\r\n}\r\n\r\ntype ActionType = AddMessageAT\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {id: 1, name: 'Василий'},\r\n    {id: 2, name: 'Петр'},\r\n  ],\r\n\r\n  messages: [\r\n    {id: 1, message: 'Привет, как дела?'},\r\n    {id: 2, message: 'Пошли пройдемся!'},\r\n  ],\r\n}\r\n\r\nexport const dialogsReducer = (state: any = initialState, action: ActionType) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        dialogs: [...state.dialogs],\r\n        messages: [...state.messages, {id: 10, message: action.newMessageText}],\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addMessageAC = (newMessageText: string): AddMessageAT => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageText\r\n})","export default __webpack_public_path__ + \"static/media/avatar.8f6f0a61.png\";","import React from \"react\";\r\nimport style from './DialogItem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {DialogType} from \"../../../redux/store\";\r\nimport avatar from './avatar.png'\r\n\r\ntype DialogItemType = DialogType\r\n\r\nexport const DialogItem = (props: DialogItemType) => {\r\n\r\n    let dialogURL = '/dialogs/' + props.id\r\n\r\n    return (\r\n        <div className={style.dialog}>\r\n            <NavLink activeClassName={style.nav} to={dialogURL}>\r\n                <img src={avatar}/>\r\n                {props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport style from \"./Message.module.css\";\r\n\r\ntype MessagePropsType = {\r\n    message: string\r\n}\r\n\r\n\r\nexport const Message = (props: MessagePropsType) => {\r\n\r\n    return (\r\n        <div className={style.messages}>\r\n            {props.message}\r\n        </div>\r\n\r\n    )\r\n}","import styles from './FormsControl.module.css'\r\n\r\nexport const FormControl = ({input, meta, child, ...props}: any) => {\r\n  const hasError = meta.touched && meta.error\r\n  return (\r\n      <div className={styles.formControl + ' ' + (\r\n          hasError\r\n              ? styles.error\r\n              : ''\r\n          )}>\r\n        <div>\r\n          {props.children}\r\n        </div>\r\n        {hasError ? <span>{meta.error}</span> : ''}\r\n      </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props: any) => {\r\n  const {input, meta, child, ...restProps}: any = props\r\n  return (\r\n      <FormControl {...props}>\r\n        <textarea {...input} {...restProps}/>\r\n      </FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props: any) => {\r\n  const {input, meta, child, ...restProps}: any = props\r\n  return (\r\n      <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n      </FormControl>\r\n  )\r\n}","export const required = (value: any) => {\r\n  if (value) {\r\n    return undefined\r\n  }\r\n  return 'поле обязательное...'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: any) => (value: any) => {\r\n  if (value.length > maxLength) {\r\n    return `не больше ${maxLength} символов`\r\n  }\r\n  return undefined\r\n}\r\n","import React from \"react\";\r\nimport style from './Dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport {DialogType, MessageType} from \"../../redux/store\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControl/FormsControl\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validator\";\r\n\r\ntype DialogsType = {\r\n  onAddMessage: (newMessageText: string) => void\r\n  messages: Array<MessageType>\r\n  dialogsItem: Array<DialogType>\r\n}\r\n\r\nexport const Dialogs = (props: DialogsType) => {\r\n\r\n  let dialogsElements = props.dialogsItem\r\n      .map(d => <DialogItem id={d.id} name={d.name} key={d.id}/>)\r\n\r\n  let messagesElements = props.messages\r\n      .map(m => <Message message={m.message} key={m.id}/>)\r\n\r\n  const addNewMessage = (values: any) => {\r\n    props.onAddMessage(values.newMessageText)\r\n  }\r\n\r\n  return (\r\n      <>\r\n        <div className={style.dialogs}>\r\n\r\n          <div className={style.d_items}>\r\n            {dialogsElements}\r\n          </div>\r\n\r\n          <div className={style.messages}>\r\n            {messagesElements}\r\n          </div>\r\n\r\n        </div>\r\n        <div className={style.item}>\r\n          <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n      </>\r\n  )\r\n}\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nexport const AddMessageForm = (props: any) => {\r\n  return (\r\n      <form onSubmit={props.handleSubmit}>\r\n        <Field component={Textarea}\r\n               name='newMessageText'\r\n               placeholder='введите сообщение...'\r\n               validate={[required, maxLength10]}\r\n        />\r\n\r\n        <div>\r\n          <button>SEND</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm(\r\n    {form: 'dialogsAddMessageForm'}\r\n)(AddMessageForm)","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootReduxStateType} from \"../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n  isAuth: boolean\r\n}\r\n\r\nlet mapStateToPropsForRedirect = (state: RootReduxStateType): MapStatePropsType => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n  const RedirectComponent = (props: MapStatePropsType) => {\r\n    const {isAuth, ...restProps} = props\r\n    if (!isAuth) {\r\n      return <Redirect to='/login'/>\r\n    }\r\n    return <Component {...restProps as T}/>\r\n  }\r\n  return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import React from \"react\";\r\nimport {addMessageAC} from \"../../redux/reducers/dialogs-reducers\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {FriendType, MessageType} from \"../../redux/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\n\r\ntype mapStateToProps = {\r\n  messages: Array<MessageType>\r\n  dialogsItem: Array<FriendType>\r\n  newMessageText: string\r\n}\r\n\r\ntype mapDispatchToProps = {\r\n  onAddMessage: (newMessageText: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): mapStateToProps => {\r\n\r\n  return {\r\n    messages: state.messagePage.messages,\r\n    dialogsItem: state.sidebar.friend,\r\n    newMessageText: state.messagePage.newMessageText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): mapDispatchToProps => {\r\n  return {\r\n    onAddMessage: (newMessageText: string) => {\r\n      dispatch(addMessageAC(newMessageText))\r\n    }\r\n  }\r\n}\r\n\r\nexport const DialogsContainer = compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n","export default __webpack_public_path__ + \"static/media/avatar.76d2819f.jpg\";","export default __webpack_public_path__ + \"static/media/profile.a296afc6.svg\";","export default __webpack_public_path__ + \"static/media/friends.cc1aa831.svg\";","export default __webpack_public_path__ + \"static/media/messages.7be6e02d.svg\";","export default __webpack_public_path__ + \"static/media/news.12440c92.svg\";","export default __webpack_public_path__ + \"static/media/music.af606310.svg\";","export default __webpack_public_path__ + \"static/media/settings.f00ed622.svg\";","import {SidebarType, StateType} from \"../../redux/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Navbar} from \"./Navbar\";\r\n\r\ntype MapStateType = {\r\n    sidebar: SidebarType\r\n}\r\n\r\nconst mapStateToProps = (state: StateType): MapStateType => {\r\n    return {\r\n        sidebar: state.sidebar\r\n    }\r\n}\r\n\r\nexport const NavbarContainer = connect(mapStateToProps) (Navbar);","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from './Navbar.module.css'\r\nimport avatar from './icons/avatar.jpg'\r\nimport {SidebarType} from \"../../redux/store\";\r\nimport profile from './icons/profile.svg'\r\nimport friends from './icons/friends.svg'\r\nimport messages from './icons/messages.svg'\r\nimport news from './icons/news.svg'\r\nimport music from './icons/music.svg'\r\nimport settings from './icons/settings.svg'\r\n\r\ntype PropsType = {\r\n    sidebar: SidebarType\r\n}\r\n\r\nexport const Navbar = (props: PropsType) => {\r\n\r\n    const friendElements = props.sidebar.friend.map(f => <div className={style.friend} key={f.id}>\r\n        <img src={avatar} alt=''/>\r\n        {f.name}\r\n    </div>)\r\n\r\n    return (\r\n        <div className={style.navbar}>\r\n            <div className={style.navbarElements}>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/profile'>\r\n                        <img src={profile} alt=''/>\r\n                        Профиль\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/users'>\r\n                        <img src={friends} alt=''/>\r\n                        Друзья\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/dialogs'>\r\n                        <img src={messages} alt=''/>\r\n                        Сообщения\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/news'>\r\n                        <img src={news} alt=''/>\r\n                        Новости\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/music'>\r\n                        <img src={music} alt=''/>\r\n                        Музыка\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/settings'>\r\n                        <img src={settings} alt=''/>\r\n                        Настройки\r\n                    </NavLink>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={style.friends}>\r\n                <div className={style.titleFriends}>Друзья онлайн:</div>\r\n                {friendElements}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"f96f3f30-1614-4efb-864a-596256d296ea\"\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage: number, pageSize: number) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(resp => resp.data)\r\n  },\r\n  isUnfollow(id: number) {\r\n    return instance.delete(`follow/${id}`)\r\n        .then(resp => resp.data)\r\n  },\r\n  isFollow(id: number) {\r\n    return instance.post(`follow/${id}`, {})\r\n        .then(resp => resp.data)\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  getMe() {\r\n    return instance.get(`auth/me`)\r\n        .then(resp => resp.data)\r\n  },\r\n  login(email: string, password: string, rememberMe: boolean = false) {\r\n    return instance.post('auth/login', {email, password, rememberMe})\r\n  },\r\n  logout() {\r\n    return instance.delete('auth/login')\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getUserByID(userId: string) {\r\n    return instance.get(`profile/${userId}`)\r\n        .then(resp => resp.data)\r\n  },\r\n  getStatus(userId: string) {\r\n    return instance.get(`profile/status/${userId}`)\r\n        .then(resp => resp.data)\r\n  },\r\n  updateStatus(status: string) {\r\n    return instance.put(`profile/status`, {status})\r\n        .then(resp => resp.data)\r\n  }\r\n}","import {usersAPI} from \"../../api/api\";\r\n\r\ntype actionType =\r\n    followType\r\n    | unFollowType\r\n    | setUsersType\r\n    | currentPageType\r\n    | setTotalUsersCountType\r\n    | setIsFetchingType\r\n    | setIsFollowingType\r\n\r\ntype followType = {\r\n  type: 'FOLLOW'\r\n  userID: number\r\n}\r\n\r\ntype unFollowType = {\r\n  type: 'UNFOLLOW'\r\n  userID: number\r\n}\r\n\r\ntype setUsersType = {\r\n  type: 'SET-USERS'\r\n  users: UserType[]\r\n}\r\n\r\ntype currentPageType = {\r\n  type: 'SET-CURRENT-PAGE'\r\n  currentPage: number\r\n}\r\n\r\ntype setTotalUsersCountType = {\r\n  type: 'SET-TOTAL-USERS-COUNT'\r\n  count: number\r\n}\r\n\r\ntype setIsFetchingType = {\r\n  type: 'TOGGLE-IS-FETCHING'\r\n  isFetching: boolean\r\n}\r\n\r\ntype setIsFollowingType = {\r\n  type: 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n  isFetching: boolean\r\n  userId: number\r\n}\r\n\r\ntype UsersType = {\r\n  users: Array<UserType>\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n}\r\n\r\nexport type UserType = {\r\n  name: string\r\n  id: number\r\n  photos: {\r\n    small: string | null\r\n    large: string | null\r\n  }\r\n  status: string\r\n  followed: boolean\r\n\r\n}\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SETUSERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: UsersType = initialState, action: actionType): UsersType => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            return {...u, followed: true}\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            return {...u, followed: false}\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n\r\n    case SETUSERS:\r\n      return {...state, users: action.users}\r\n\r\n    case SET_CURRENT_PAGE: {\r\n      return {...state, currentPage: action.currentPage}\r\n    }\r\n\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return {...state, totalUsersCount: action.count}\r\n    }\r\n\r\n    case TOGGLE_IS_FETCHING: {\r\n      return {...state, isFetching: action.isFetching}\r\n    }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n            ? [...state.followingInProgress, action.userId]\r\n            : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nexport const follow = (userID: number): followType => ({type: FOLLOW, userID})\r\nexport const unfollow = (userID: number): unFollowType => ({\r\n  type: UNFOLLOW,\r\n  userID\r\n})\r\nexport const setUsers = (users: Array<UserType>): setUsersType => ({\r\n  type: SETUSERS,\r\n  users\r\n})\r\nexport const setCurrentPage = (currentPage: number): currentPageType => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage\r\n})\r\nexport const setTotalUsersCount = (count: number): setTotalUsersCountType => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count\r\n})\r\nexport const toggleIsFetching = (isFetching: boolean): setIsFetchingType => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching\r\n})\r\n\r\nexport const toggleIsFollowingProgress = (isFetching: boolean,\r\n                                          userId: number): setIsFollowingType => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n})\r\n\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => {\r\n  return (dispatch: any) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    usersAPI.getUsers(page, pageSize).then(data => {\r\n      dispatch(toggleIsFetching(false))\r\n      dispatch(setUsers(data.items))\r\n      dispatch(setTotalUsersCount(data.totalCount))\r\n    })\r\n  }\r\n}\r\n\r\nexport const followMode = (id: number) => {\r\n  return (dispatch: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, id))\r\n    usersAPI.isFollow(id).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(follow(id))\r\n      }\r\n      dispatch(toggleIsFollowingProgress(false, id))\r\n    })\r\n  }\r\n}\r\n\r\nexport const unfollowMode = (id: number) => {\r\n  return (dispatch: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, id))\r\n    usersAPI.isUnfollow(id).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(unfollow(id))\r\n      }\r\n      dispatch(toggleIsFollowingProgress(false, id))\r\n    })\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/user_icon.86033422.png\";","export default __webpack_public_path__ + \"static/media/loader.d3fbaf2b.gif\";","import preolader from './loader.gif'\r\n\r\n\r\nexport const Preloader = () => {\r\n    return(\r\n        <div>\r\n            <img src={preolader} alt=\"\"/>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport avatar from \"./user_icon.png\";\r\nimport {UserType} from \"../../redux/reducers/users-reducers\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Preloader} from \"../common/Preloader/Preolader\";\r\n\r\ntype UsersPropsType = {\r\n    users: Array<UserType>\r\n    follow: (userID: number) => void\r\n    unfollow: (userID: number) => void\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    followingInProgress: Array<number>\r\n    isFetching: boolean\r\n    followMode: (id: number) => void\r\n    unfollowMode: (id: number) => void\r\n}\r\n\r\nexport const Users = (props: UsersPropsType) => {\r\n\r\n    const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n    const pages = []\r\n    for (let i = 1; i <= pagesCount && i <= 15; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return <div>\r\n\r\n        <div className={style.pagination}>\r\n            {\r\n                pages.map(page => {\r\n                    return <span className={props.currentPage === page ? style.selectedPage : ''}\r\n                                 onClick={(event) => {\r\n                                     props.onPageChanged(page)\r\n                                 }}>\r\n                            {page}\r\n                        </span>\r\n                })\r\n            }\r\n        </div>\r\n\r\n        {\r\n            props.users.map(u => <div className={style.users} key={u.id}>\r\n\r\n                    <div className={style.avaAndBtn}>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                            {props.isFetching ? <Preloader/> : null}\r\n                            <img src={u.photos.small !== null ? u.photos.small : avatar} alt=''/>\r\n                        </NavLink>\r\n                        {\r\n                            u.followed\r\n\r\n                                ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                          onClick={() => {props.unfollowMode(u.id)}}>\r\n                                    unfollow</button>\r\n\r\n                                : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                          onClick={() => {props.followMode(u.id)}}\r\n                                          style={{background: 'coral'}}>\r\n                                    follow</button>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className={style.info}>\r\n                        <div>имя: <b>{u.name}</b></div>\r\n                        <div>статус: в поисках работы</div>\r\n                        <div>город: Санкт-Петербург</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    </div>\r\n}\r\n","import {RootReduxStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\nimport {UserType} from \"./reducers/users-reducers\";\r\n\r\nconst getUsersSelector = (state: RootReduxStateType) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users: Array<UserType>) => {\r\n       return users.filter(u => u)\r\n    })\r\n\r\nexport const getPageSize = (state: RootReduxStateType) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootReduxStateType) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: RootReduxStateType) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: RootReduxStateType) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: RootReduxStateType) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\n","import {connect} from \"react-redux\";\r\nimport {\r\n  follow,\r\n  followMode,\r\n  requestUsers,\r\n  setCurrentPage,\r\n  toggleIsFollowingProgress,\r\n  unfollow,\r\n  unfollowMode,\r\n  UserType\r\n} from \"../../redux/reducers/users-reducers\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\nimport React, {ComponentType} from \"react\";\r\n\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preolader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n} from \"../../redux/users-selector\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\ntype mapStateType = {\r\n  users: Array<UserType>\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n}\r\n\r\ntype UsersPropsType = {\r\n  users: Array<UserType>\r\n  follow: (userID: number) => void\r\n  unfollow: (userID: number) => void\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  setCurrentPage: (pageNumber: number) => void\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n  getUsers: (currentPage: number, pageSize: number) => void\r\n  followMode: (id: number) => void\r\n  unfollowMode: (id: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<any> {\r\n\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber: number) => {\r\n    this.props.requestUsers(pageNumber, this.props.pageSize)\r\n    this.props.setCurrentPage(pageNumber)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <>\r\n          {\r\n            this.props.isFetching\r\n                ? <Preloader/>\r\n                : <Users totalUsersCount={this.props.totalUsersCount}\r\n                         pageSize={this.props.pageSize}\r\n                         currentPage={this.props.currentPage}\r\n                         onPageChanged={this.onPageChanged}\r\n                         users={this.props.users}\r\n                         follow={this.props.follow}\r\n                         unfollow={this.props.unfollow}\r\n                         followingInProgress={this.props.followingInProgress}\r\n                         isFetching={this.props.isFetching}\r\n                         followMode={this.props.followMode}\r\n                         unfollowMode={this.props.unfollowMode}/>\r\n          }\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): mapStateType => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {\r\n      follow,\r\n      unfollow,\r\n      setCurrentPage,\r\n      toggleIsFollowingProgress,\r\n      requestUsers,\r\n      followMode,\r\n      unfollowMode\r\n    }), withAuthRedirect)(UsersContainer)\r\n","import {authAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\ntype actionType = SetUserDataActionType\r\nexport type SetUserDataActionType = ReturnType<typeof setAuthUserDataAC>;\r\n\r\ntype InitStateType = {\r\n  id: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\n\r\nconst initState: InitStateType = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n}\r\n\r\nexport const authReducer = (\r\n    state: InitStateType = initState,\r\n    action: actionType): InitStateType => {\r\n\r\n  switch (action.type) {\r\n    case 'SET-USER-DATA':\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserDataAC = (userId: number | null,\r\n                                  email: string | null,\r\n                                  login: string | null,\r\n                                  isAuth: boolean) =>\r\n    ({type: 'SET-USER-DATA', data: {userId, email, login, isAuth,}} as const);\r\n\r\n\r\nexport const getAuthUserDataTC = () => (dispatch: any) => {\r\n  return authAPI.getMe()\r\n      .then(data => {\r\n            if (data.resultCode === 0) {\r\n              let {id, email, login} = data.data\r\n              dispatch(setAuthUserDataAC(id, email, login, true))\r\n            }\r\n          }\r\n      )\r\n}\r\n\r\nexport const loginTC = (email: string,\r\n                        password: string,\r\n                        rememberMe: boolean) => (dispatch: any) => {\r\n  authAPI.login(email, password, rememberMe)\r\n      .then(res => {\r\n            if (res.data.resultCode === 0) {\r\n              dispatch(getAuthUserDataTC())\r\n            } else {\r\n              let message = res.data.messages.length > 0 ? res.data.messages[0] : 'some error';\r\n              dispatch(stopSubmit('login', {_error: message}))\r\n            }\r\n          }\r\n      )\r\n}\r\n\r\nexport const logoutTC = () => {\r\n  return (dispatch: any) => {\r\n    authAPI.logout()\r\n        .then(res => {\r\n              if (res.data.resultCode === 0) {\r\n                dispatch(setAuthUserDataAC(null, null, null, false))\r\n              }\r\n            }\r\n        )\r\n  }\r\n}\r\n","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {Input} from \"../common/FormsControl/FormsControl\";\r\nimport {required} from \"../../utils/validators/validator\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginTC} from \"../../redux/reducers/auth-reducers\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\nimport styles from '../common/FormsControl/FormsControl.module.css'\r\n\r\ntype FormDataType = {\r\n  login: string\r\n  password: string\r\n  rememberMe: boolean\r\n}\r\ntype mapStateToPropsType = {\r\n  isAuth: boolean\r\n}\r\ntype mapDispatchToPropsType = {\r\n  loginTC: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\ntype LoginPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n\r\n  const onSubmit = (formData: FormDataType) => {\r\n    props.loginTC(formData.login, formData.password, formData.rememberMe)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to='/profile'/>\r\n  } else {\r\n    return <div>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props: any) => {\r\n  return (\r\n      <form className={styles.formBlock} onSubmit={props.handleSubmit}>\r\n        <h1>Вход:</h1>\r\n        <div className={styles.inputs}>\r\n          <Field placeholder={'логин...'}\r\n                 name={'login'}\r\n                 component={Input}\r\n                 validate={[required]}\r\n          />\r\n        </div>\r\n        <div className={styles.inputs}>\r\n          <Field type={'password'} name={'password'}\r\n                 placeholder={'пароль...'}\r\n                 component={Input}\r\n                 validate={[required]}\r\n          />\r\n        </div>\r\n        <div className={styles.checkBox}>\r\n          <Field type={'checkbox'}\r\n                 name={'rememberMe'}\r\n                 component={Input}\r\n          />\r\n          <span>запомнить меня</span>\r\n        </div>\r\n        {\r\n          props.error && <div className={styles.formSummaryError}>\r\n            {props.error}\r\n          </div>\r\n        }\r\n        <div>\r\n          <button>войти</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>(\r\n    {form: 'login'}\r\n)(LoginForm)\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): mapStateToPropsType => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps,\r\n    {loginTC})(Login)\r\n","export default __webpack_public_path__ + \"static/media/avatar.35b2083a.jpg\";","import React, {ChangeEvent, useEffect, useState, KeyboardEvent} from \"react\";\r\n\r\n\r\ntype ProfileStatusPropsType = {\r\n  status: string\r\n  userUpdateStatus: (status: string) => void\r\n  getUserStatus: (userId: string) => void\r\n}\r\n\r\nexport function ProfileStatusHooks(props: ProfileStatusPropsType) {\r\n\r\n  const [editMode, setEditMode] = useState<boolean>(false)\r\n  const [status, setStatus] = useState<string>(props.status)\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n\r\n  const activatedEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n  const deActivatedEditMode = () => {\r\n    setEditMode(false)\r\n    props.userUpdateStatus(status)\r\n  }\r\n  const valueTarget = (e: ChangeEvent<HTMLInputElement>) => {\r\n    let text = e.currentTarget.value\r\n    setStatus(text)\r\n  }\r\n\r\n\r\n  return (\r\n      <div>\r\n        {\r\n          editMode\r\n              ? <div>\r\n                <input type='text'\r\n                       onChange={valueTarget}\r\n                       onBlur={deActivatedEditMode}\r\n                       value={status}\r\n                       autoFocus\r\n                />\r\n              </div>\r\n              : <div>\r\n                <span onDoubleClick={activatedEditMode}>\r\n                  {props.status || 'статус не заполнен...'}\r\n                </span>\r\n              </div>\r\n        }\r\n      </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport style from './ProfileInfo.module.css'\r\nimport avatar from './avatar.jpg'\r\nimport {Preloader} from \"../../common/Preloader/Preolader\";\r\nimport {ProfileDataType} from \"../ProfileContainer\";\r\nimport {ProfileStatusHooks} from \"../ProfileStatus/ProfileStatusHooks\";\r\n\r\ntype ProfileInfoPropsType = {\r\n  profile: ProfileDataType\r\n  status: string\r\n  userUpdateStatus: (status: string) => void\r\n  getUserStatus: (userId: string) => void\r\n}\r\n\r\nexport const ProfileInfo = (props: ProfileInfoPropsType) => {\r\n\r\n  if (!props.profile) {\r\n    return <Preloader/>\r\n  }\r\n\r\n  const statusWork = () => {\r\n    return (\r\n        props.profile.lookingForAJob\r\n            ? <div>Статус: работаю</div>\r\n            : <div>Статус: в поисках работы</div>\r\n    )\r\n  }\r\n\r\n  return (\r\n      <div className={style.profileInfo}>\r\n        <div className={style.user}>\r\n          <img src={avatar}/>\r\n          <div className={style.inform}>\r\n            <div className={style.name}>КАМРАН БАБАЕВ</div>\r\n            <ProfileStatusHooks\r\n                status={props.status}\r\n                userUpdateStatus={props.userUpdateStatus}\r\n                getUserStatus={props.getUserStatus}\r\n            />\r\n            <div>возраст: 27 лет</div>\r\n            <div>занятость: студент</div>\r\n            <div>город: Санкт-Петербург, Россия</div>\r\n          </div>\r\n        </div>\r\n        <div className={style.user}>\r\n          <div className={style.inform}>\r\n            <img src={props.profile.photos.small} alt=''/>\r\n            <div className={style.name}>{props.profile.fullName}</div>\r\n            <ProfileStatusHooks\r\n                status={props.status}\r\n                userUpdateStatus={props.userUpdateStatus}\r\n                getUserStatus={props.getUserStatus}\r\n            />\r\n            <div className={style.aboutMe}>Обо мне:\r\n              {props.profile.aboutMe}\r\n            </div>\r\n            <div className={style.jobStatus}>\r\n              {statusWork()}\r\n            </div>\r\n            <div className={style.contacts}>\r\n              Мой инстаграмм: {props.profile.contacts.instagram}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}","import {PostsType} from \"../store\";\r\nimport {profileAPI} from \"../../api/api\";\r\nimport {ProfileDataType} from \"../../components/Profile/ProfileContainer\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_USER_STATUS = 'SET-USER-STATUS'\r\n\r\ntype ActionType =\r\n    AddPostAT\r\n    | setUsersProfileAT\r\n    | setUserStatusAT\r\n\r\ntype AddPostAT = {\r\n  type: 'ADD-POST'\r\n  newPostText: string\r\n}\r\ntype setUsersProfileAT = {\r\n  type: 'SET-USER-PROFILE'\r\n  profile: any\r\n}\r\n\r\ntype setUserStatusAT = {\r\n  type: 'SET-USER-STATUS'\r\n  status: string\r\n}\r\ntype InitialType = {\r\n  posts: Array<PostsType>\r\n  profile: null | ProfileDataType\r\n  status: string\r\n}\r\n\r\nconst initialState: InitialType = {\r\n  posts: [\r\n    {id: 1, title: 'Первый пост для соц сети.', likeCounts: 22},\r\n    {id: 2, title: 'Второй пост, креатив не мое...', likeCounts: 19},\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nexport const profileReducer = (state: InitialType = initialState,\r\n                               action: ActionType) => {\r\n  console.log(action)\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost: PostsType = {id: 5, title: action.newPostText, likeCounts: 0}\r\n      return {\r\n        ...state,\r\n        posts: [newPost, ...state.posts],\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state, profile: action.profile\r\n      }\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state, status: action.status\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPostAC = (newPostText: string): AddPostAT => ({\r\n  type: ADD_POST,\r\n  newPostText\r\n})\r\nexport const setUsersProfile = (profile: any): setUsersProfileAT => ({\r\n  type: SET_USER_PROFILE,\r\n  profile\r\n})\r\n\r\nexport const setUserStatusAC = (status: string): setUserStatusAT => ({\r\n  type: SET_USER_STATUS,\r\n  status\r\n})\r\n\r\nexport const getUsersProfile = (userId: string) => {\r\n  return (dispatch: any) => {\r\n    profileAPI.getUserByID(userId)\r\n        .then(data => {\r\n          dispatch(setUsersProfile(data))\r\n        })\r\n  }\r\n}\r\nexport const getUserStatus = (userId: string) => {\r\n  return (dispatch: any) => {\r\n    profileAPI.getStatus(userId).then(data => {\r\n      dispatch(setUserStatusAC(data))\r\n    })\r\n  }\r\n}\r\nexport const userUpdateStatus = (status: string) => {\r\n  return (dispatch: any) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(resp => {\r\n          if (resp.data.resultCode === 0)\r\n            dispatch(setUserStatusAC(status))\r\n        })\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/avatar.fd7aeb24.jpg\";","export default __webpack_public_path__ + \"static/media/liked.8d60aaea.svg\";","import React from \"react\";\r\nimport style from './Post.module.css'\r\nimport avatar from './avatar.jpg'\r\nimport liked from './liked.svg'\r\n\r\ntype PostPropsType = {\r\n    id: number\r\n    title: string\r\n    likeCounts: number\r\n}\r\n\r\nexport const Post = (props: PostPropsType) => {\r\n    return (\r\n        <div className={style.posts}>\r\n            <img className={style.imgAvatar} alt='' src={avatar}/>\r\n            <div className={style.title}>{props.title}</div>\r\n            <div className={style.likesBlock}>\r\n                <img className={style.liked} src={liked} alt=''/>\r\n                {props.likeCounts}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {ChangeEvent} from \"react\";\r\nimport style from './MyPosts.module.css'\r\nimport {PostsType} from \"../../../redux/store\";\r\nimport {Post} from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validator\";\r\nimport {Textarea} from \"../../common/FormsControl/FormsControl\";\r\n\r\n\r\ntype MyPostsType = {\r\n  posts: Array<PostsType>\r\n  onAddPost: (newPostText: string) => void\r\n}\r\n\r\nexport const MyPosts = (props: MyPostsType) => {\r\n\r\n  let postElements = props.posts.map(post => <Post key={post.id} id={post.id}\r\n                                                   likeCounts={post.likeCounts}\r\n                                                   title={post.title}/>)\r\n\r\n  const addPost = (values: any) => {\r\n    props.onAddPost(values.newPostText)\r\n  }\r\n  return (\r\n      <div className={style.myPosts}>\r\n        <AddNewPostReduxForm onSubmit={addPost}/>\r\n        <div>\r\n          {postElements}\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\n// validateForm\r\nconst maxLength10 = maxLengthCreator(5)\r\n\r\nconst AddNewPostForm = (props: any) => {\r\n  return (\r\n      <form onSubmit={props.handleSubmit} className={style.textForm}>\r\n        <Field component={Textarea}\r\n               placeholder='новый пост...'\r\n               name='newPostText'\r\n               validate={[required, maxLength10]}\r\n        />\r\n        <div className={style.buttons}>\r\n          <button>SEND</button>\r\n          <button>DELETE</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostReduxForm = reduxForm(\r\n    {form: 'ProfileAddNewPostForm'}\r\n)(AddNewPostForm)","import React from \"react\";\r\nimport {StateType} from \"../../../redux/store\";\r\nimport {addPostAC} from \"../../../redux/reducers/profile-reducers\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst mapStateToProps = (state: StateType) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n  return {\r\n    onAddPost: (newPostText: string) => {\r\n      dispatch(addPostAC(newPostText))\r\n    }\r\n  }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps,\r\n    mapDispatchToProps)(MyPosts)","import React from \"react\";\r\nimport style from './Profile.module.css'\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileDataType} from \"./ProfileContainer\";\r\n\r\ntype ProfilePropsType = {\r\n  profile: ProfileDataType\r\n  status: string\r\n  userUpdateStatus: (status: string) => void\r\n  getUserStatus: (userId: string) => void\r\n}\r\n\r\n\r\nexport const Profile = (props: ProfilePropsType) => {\r\n  return (\r\n      <div className={style.profile}>\r\n        <ProfileInfo\r\n            profile={props.profile}\r\n            status={props.status}\r\n            userUpdateStatus={props.userUpdateStatus}\r\n            getUserStatus={props.getUserStatus}\r\n        />\r\n        <MyPostsContainer/>\r\n      </div>\r\n  )\r\n}","import React, {ComponentType} from \"react\";\r\nimport style from './Profile.module.css'\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  getUsersProfile,\r\n  getUserStatus,\r\n  userUpdateStatus\r\n} from \"../../redux/reducers/profile-reducers\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {RouteComponentProps} from \"react-router\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component<ProfileContainerPropsType> {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.autorizedUserID\r\n      if (!userId) {\r\n        this.props.history.push('/login')\r\n      }\r\n    }\r\n    this.props.getUsersProfile(userId)\r\n    this.props.getUserStatus(userId)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className={style.profile}>\r\n          <Profile {...this.props}\r\n                   profile={this.props.profile}\r\n                   status={this.props.status}\r\n                   userUpdateStatus={this.props.userUpdateStatus}\r\n                   getUserStatus={this.props.getUserStatus}\r\n          />\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state: any): MapStateToPropsType => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  autorizedUserID: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps,\r\n        {getUsersProfile, getUserStatus, userUpdateStatus}),\r\n    withRouter, withAuthRedirect)(ProfileContainer)\r\n\r\n// types\r\nexport type ProfileDataType = {\r\n  aboutMe: string\r\n  contacts: {\r\n    facebook: string\r\n    website: string | null\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: string | null\r\n    github: string\r\n    mainLink: string | null\r\n  }\r\n  lookingForAJob: boolean\r\n  lookingForAJobDescription: string\r\n  fullName: string\r\n  userId: string\r\n  photos: {\r\n    small: string\r\n    large: string\r\n  }\r\n}\r\ntype MapStateToPropsType = {\r\n  profile: ProfileDataType\r\n  status: string\r\n  autorizedUserID: string\r\n  isAuth: boolean\r\n}\r\ntype MapDispatchToPropsType = {\r\n  getUsersProfile: (userId: string) => void\r\n  getUserStatus: (userId: string) => void\r\n  userUpdateStatus: (status: string) => void\r\n}\r\n\r\ntype ProfileContainerPropsType = RouteComponentProps<{ userId?: string }>\r\n    & MapStateToPropsType & MapDispatchToPropsType\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from './Header.module.css'\r\nimport searchICON from './searchICON.png'\r\n\r\ntype HeaderPropsType = {\r\n  isAuth: boolean\r\n  login: string | null\r\n  logoutTC: () => void\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n  return (\r\n      <div className={style.header}>\r\n        <div className={style.logo}>FRND</div>\r\n        <div className={style.searchBlock}>\r\n          <img src={searchICON} width={28} height={28} alt=''/>\r\n          <input placeholder='поиск...'/>\r\n        </div>\r\n        <div className={style.loginBlock}>\r\n          {props.isAuth\r\n              ? <div>{props.login}\r\n                <button onClick={props.logoutTC}>\r\n                  выйти\r\n                </button>\r\n              </div>\r\n              : <NavLink to={'/Login'}>LOGIN</NavLink>\r\n          }\r\n        </div>\r\n      </div>\r\n  )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAACC0lEQVRo3u2YP08CMRiHD00QNm8k4cTRHaJx12/AqB9DRxJX4wThA+gGGlZ1gI3EEWf/kGiMm4NGEg36uBhtywXuLj3aob+Npr/y5Pr27dvX85ycnJyckotlqtTpMmQEjBjSpU6VZRMw23T4IFwfdNieJ8wmV8zWFZvzgMnR5Jto+qZJLl2cgAHxNCBID2eNR+LrkbW0vs4kzhstdqhQ9DyKVNihxVsIUpBG7Kib9cI+SyEzl9jnZWLjdMcSTeUvWvhTZvu0lPlN3Qf9Szo9tQiemnQav7QmASXv1CK6anJe0pmV5c3KRPRllI3Tlb3pSKHsx3D6Unh39OD40p21F9O9J91xvg6gqrDkK/mY7jyvgr+qA6ghLNhO4G8L/oYOoJ6w4G4C/67g7+kAehAWLCfwlwX/gw4gMQYKwvhUCfMKYgzqABoLC2YTAGWF4U/bvtCzbTE0sO2UXdqWh45sy9Q6rleNd9l7WIVp8rY/ta0eqthVMV7YVVOPWbfr1XFg17usz6JNL1c4ZsGet/2/hqya7370ORF+3VMy2R8ac8AiC9KYfqTIHbRzNkIrpzSQZvQY3zkTKyeGc0Ga6MI+cU2XQ7bU1gur3CtId6yYbSCXHFJCpMA00p2CdGsaacUhJUQqmkUKuFWQbhzSTCTTQAqSeRzP8zyK3FiE84dkD84vkk04Tk5OTk6x9QODdupMk0QS6AAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutTC} from \"../../redux/reducers/auth-reducers\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n\r\n  render() {\r\n    return <Header login={this.props.login}\r\n                   isAuth={this.props.isAuth}\r\n                   logoutTC={this.props.logoutTC}/>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): MapStatePropsType => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps,\r\n    {logoutTC})(HeaderContainer)\r\n\r\n// types\r\ntype MapStatePropsType = {\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n  logoutTC: () => void\r\n}\r\ntype HeaderContainerType = MapStatePropsType & MapDispatchPropsType","import {getAuthUserDataTC} from \"./auth-reducers\";\r\n\r\ntype actionType = setInitializedAT\r\ntype InitStateType = {\r\n  initialized: boolean\r\n}\r\nexport type setInitializedAT = ReturnType<typeof setInitializedAC>\r\n\r\n\r\nconst initState: InitStateType = {\r\n  initialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitStateType = initState,\r\n                           action: actionType): InitStateType => {\r\n\r\n  switch (action.type) {\r\n    case 'SET_INITIALIZED':\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setInitializedAC = () => ({type: 'SET_INITIALIZED'} as const);\r\n\r\nexport const initializedAppTC = () => (dispatch: any) => {\r\n  let promise = dispatch(getAuthUserDataTC())\r\n  Promise.all([promise])\r\n      .then(() => {\r\n        dispatch(setInitializedAC())\r\n      })\r\n}","import React, {Component, ComponentType} from 'react';\nimport './App.css';\nimport {Route, withRouter} from 'react-router-dom';\nimport {DialogsContainer} from \"./components/Dialogs/DialogsContainer\";\nimport {NavbarContainer} from \"./components/Navbar/NavbarContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport Login from \"./components/Login/Login\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializedAppTC} from \"./redux/reducers/app-reducers\";\nimport {RootReduxStateType} from \"./redux/redux-store\";\nimport {Preloader} from \"./components/common/Preloader/Preolader\";\n\nclass App extends Component<PropsType> {\n\n  componentDidMount() {\n    this.props.initializedAppTC();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n\n    return (\n        <div className=\"App-wrapper\">\n          <HeaderContainer/>\n          <NavbarContainer/>\n          <div className='App-wrapper-content'>\n            <Route path='/profile/:userId?'\n                   render={() => <ProfileContainer/>}\n            />\n            <Route exact path='/dialogs'\n                   render={() => <DialogsContainer/>}\n            />\n            <Route exact path='/users'\n                   render={() => <UsersContainer/>}\n            />\n            <Route exact path='/login'\n                   render={() => <Login/>}\n            />\n          </div>\n        </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootReduxStateType) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose<ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializedAppTC})\n)(App)\n\n\n// types\ntype MapDispatchToPropsType = {\n  initializedAppTC: () => void\n}\ntype MapStateToPropsType = {\n  initialized: boolean\n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\n","import {ActionType} from \"../store\";\r\n\r\nlet initialState = {\r\n    friend: [\r\n        {id: 1, name: 'Николай'},\r\n        {id: 2, name: 'Андрей'},\r\n        {id: 3, name: 'Виктор'},\r\n        {id: 4, name: 'Стас'},\r\n        {id: 5, name: 'Алексей'},\r\n        {id: 6, name: 'Максим'},\r\n    ]\r\n}\r\n\r\nexport const sidebarReducer = (state: any = initialState, action: ActionType) => {\r\n    return state\r\n}","import {createStore, combineReducers, applyMiddleware} from 'redux'\r\nimport {dialogsReducer} from \"./reducers/dialogs-reducers\";\r\nimport {profileReducer} from \"./reducers/profile-reducers\";\r\nimport {sidebarReducer} from \"./reducers/sidebar-reducers\";\r\nimport {usersReducer} from \"./reducers/users-reducers\";\r\nimport {authReducer} from \"./reducers/auth-reducers\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./reducers/app-reducers\";\r\n\r\nexport const reducer = combineReducers(\r\n    {\r\n      profilePage: profileReducer,\r\n      messagePage: dialogsReducer,\r\n      sidebar: sidebarReducer,\r\n      usersPage: usersReducer,\r\n      auth: authReducer,\r\n      app: appReducer,\r\n      form: formReducer,\r\n    }\r\n)\r\n\r\nexport type RootReduxStateType = ReturnType<typeof reducer>\r\n\r\nexport const store = createStore(reducer, applyMiddleware(thunkMiddleware))\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./redux/redux-store\";\n\nReactDOM.render(\n    <BrowserRouter>\n      <Provider store={store}>\n        <App/>\n      </Provider>\n    </BrowserRouter>, document.getElementById('root')\n)\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__tad4V\",\"info\":\"Users_info__1jUB1\",\"avaAndBtn\":\"Users_avaAndBtn__2Fitd\",\"pagination\":\"Users_pagination__tc9u3\",\"selectedPage\":\"Users_selectedPage__dYIm4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Post_posts__2znaa\",\"imgAvatar\":\"Post_imgAvatar__YDTRY\",\"title\":\"Post_title__WlU8u\",\"likesBlock\":\"Post_likesBlock__L_4vL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3NM6i\",\"item\":\"Dialogs_item__EkW7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__19xtY\",\"logo\":\"Header_logo__1kbZV\",\"loginBlock\":\"Header_loginBlock__1flqr\",\"searchBlock\":\"Header_searchBlock__1onPG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__1bdgn\",\"textForm\":\"MyPosts_textForm__uSFXe\",\"buttons\":\"MyPosts_buttons__BHSzV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__1lXpr\"};"],"sourceRoot":""}