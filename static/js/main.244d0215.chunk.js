(this.webpackJsonpFRIEND=this.webpackJsonpFRIEND||[]).push([[0],{126:function(e,t,s){e.exports={messages:"Message_messages__32cnW"}},13:function(e,t,s){e.exports={navbar:"Navbar_navbar__2kShT",navbarElements:"Navbar_navbarElements__1QKN0",items:"Navbar_items__2hxzF",friend:"Navbar_friend__3KIsM",titleFriends:"Navbar_titleFriends__2Ne7I"}},160:function(e,t,s){},161:function(e,t,s){},21:function(e,t,s){e.exports={profileInfo:"ProfileInfo_profileInfo__2uM4E",user:"ProfileInfo_user__Uv8qA",description:"ProfileInfo_description__PEbEq",name:"ProfileInfo_name__3Ghws"}},24:function(e,t,s){e.exports={error:"FormsControl_error__7iFlF",formSummaryError:"FormsControl_formSummaryError__V2cQO",formBlock:"FormsControl_formBlock__2m8Yu",inputs:"FormsControl_inputs__2C9V3",checkBox:"FormsControl_checkBox__2H8tp"}},284:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(65),i=s.n(r),c=(s(160),s(27)),o=s(28),u=s(31),l=s(30),d=(s(161),s(11)),j=s(36),b=s(5),f="ADD-MESSAGE",h={dialogs:[{id:1,name:"\u0412\u0430\u0441\u0438\u043b\u0438\u0439"},{id:2,name:"\u041f\u0435\u0442\u0440"}],messages:[{id:1,message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u043a\u0430\u043a \u0434\u0435\u043b\u0430?"},{id:2,message:"\u041f\u043e\u0448\u043b\u0438 \u043f\u0440\u043e\u0439\u0434\u0435\u043c\u0441\u044f!"}]},p=s(55),O=s.n(p),m=s(88),g=s.n(m),x=s(12),v=s.p+"static/media/avatar.8f6f0a61.png",_=s(0),N=function(e){var t="/dialogs/"+e.id;return Object(_.jsx)("div",{className:g.a.dialog,children:Object(_.jsxs)(x.b,{activeClassName:g.a.nav,to:t,children:[Object(_.jsx)("img",{src:v}),e.name]})})},S=s(126),A=s.n(S),P=function(e){return Object(_.jsx)("div",{className:A.a.messages,children:e.message})},C=s(123),w=s(124),k=s(43),U=s(24),I=s.n(U),T=function(e){e.input;var t=e.meta,s=(e.child,Object(k.a)(e,["input","meta","child"])),n=t.touched&&t.error;return Object(_.jsxs)("div",{className:I.a.formControl+" "+(n?I.a.error:""),children:[Object(_.jsx)("div",{children:s.children}),n?Object(_.jsx)("span",{children:t.error}):""]})},y=function(e){var t=e.input,s=(e.meta,e.child,Object(k.a)(e,["input","meta","child"]));return Object(_.jsx)(T,Object(b.a)(Object(b.a)({},e),{},{children:Object(_.jsx)("textarea",Object(b.a)(Object(b.a)({},t),s))}))},E=function(e){var t=e.input,s=(e.meta,e.child,Object(k.a)(e,["input","meta","child"]));return Object(_.jsx)(T,Object(b.a)(Object(b.a)({},e),{},{children:Object(_.jsx)("input",Object(b.a)(Object(b.a)({},t),s))}))},F=function(e){if(!e)return"\u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435..."},M=function(e){return function(t){if(t.length>e)return"\u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}},D=M(10),z=Object(w.a)({form:"dialogsAddMessageForm"})((function(e){return Object(_.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(_.jsx)(C.a,{component:y,name:"newMessageText",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",validate:[F,D]}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{children:"SEND"})})]})})),L=s(10),B=s(9),R=function(e){return{isAuth:e.auth.isAuth}};function G(e){return Object(L.b)(R)((function(t){var s=t.isAuth,n=Object(k.a)(t,["isAuth"]);return s?Object(_.jsx)(e,Object(b.a)({},n)):Object(_.jsx)(d.a,{to:"/login"})}))}var Q=Object(B.d)(Object(L.b)((function(e){return{messages:e.messagePage.messages,dialogsItem:e.sidebar.friend,newMessageText:e.messagePage.newMessageText}}),(function(e){return{onAddMessage:function(t){e(function(e){return{type:f,newMessageText:e}}(t))}}})),G)((function(e){var t=e.dialogsItem.map((function(e){return Object(_.jsx)(N,{id:e.id,name:e.name},e.id)})),s=e.messages.map((function(e){return Object(_.jsx)(P,{message:e.message},e.id)}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:O.a.dialogs,children:[Object(_.jsx)("div",{className:O.a.d_items,children:t}),Object(_.jsx)("div",{className:O.a.messages,children:s})]}),Object(_.jsx)("div",{className:O.a.item,children:Object(_.jsx)(z,{onSubmit:function(t){e.onAddMessage(t.newMessageText)}})})]})})),q=s(13),V=s.n(q),J=s.p+"static/media/avatar.76d2819f.jpg",W=s.p+"static/media/profile.a296afc6.svg",Y=s.p+"static/media/friends.cc1aa831.svg",K=s.p+"static/media/messages.7be6e02d.svg",H=s.p+"static/media/news.12440c92.svg",X=s.p+"static/media/music.af606310.svg",Z=s.p+"static/media/settings.f00ed622.svg",$=Object(L.b)((function(e){return{sidebar:e.sidebar}}))((function(e){var t=e.sidebar.friend.map((function(e){return Object(_.jsxs)("div",{className:V.a.friend,children:[Object(_.jsx)("img",{src:J,alt:""}),e.name]},e.id)}));return Object(_.jsxs)("div",{className:V.a.navbar,children:[Object(_.jsxs)("div",{className:V.a.navbarElements,children:[Object(_.jsx)("div",{className:V.a.items,children:Object(_.jsxs)(x.b,{activeClassName:V.a.activeLink,to:"/profile",children:[Object(_.jsx)("img",{src:W,alt:""}),"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"]})}),Object(_.jsx)("div",{className:V.a.items,children:Object(_.jsxs)(x.b,{activeClassName:V.a.activeLink,to:"/users",children:[Object(_.jsx)("img",{src:Y,alt:""}),"\u0414\u0440\u0443\u0437\u044c\u044f"]})}),Object(_.jsx)("div",{className:V.a.items,children:Object(_.jsxs)(x.b,{activeClassName:V.a.activeLink,to:"/dialogs",children:[Object(_.jsx)("img",{src:K,alt:""}),"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"]})}),Object(_.jsx)("div",{className:V.a.items,children:Object(_.jsxs)(x.b,{activeClassName:V.a.activeLink,to:"/news",children:[Object(_.jsx)("img",{src:H,alt:""}),"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"]})}),Object(_.jsx)("div",{className:V.a.items,children:Object(_.jsxs)(x.b,{activeClassName:V.a.activeLink,to:"/music",children:[Object(_.jsx)("img",{src:X,alt:""}),"\u041c\u0443\u0437\u044b\u043a\u0430"]})}),Object(_.jsx)("div",{className:V.a.items,children:Object(_.jsxs)(x.b,{activeClassName:V.a.activeLink,to:"/settings",children:[Object(_.jsx)("img",{src:Z,alt:""}),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"]})})]}),Object(_.jsxs)("div",{className:V.a.friends,children:[Object(_.jsx)("div",{className:V.a.titleFriends,children:"\u0414\u0440\u0443\u0437\u044c\u044f \u043e\u043d\u043b\u0430\u0439\u043d:"}),t]})]})})),ee=s(128),te=s.n(ee).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"f96f3f30-1614-4efb-864a-596256d296ea"}}),se=function(e,t){return te.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},ne=function(e){return te.delete("follow/".concat(e)).then((function(e){return e.data}))},ae=function(e){return te.post("follow/".concat(e),{}).then((function(e){return e.data}))},re=function(){return te.get("auth/me").then((function(e){return e.data}))},ie=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return te.post("auth/login",{email:e,password:t,rememberMe:s})},ce=function(){return te.delete("auth/login")},oe=function(e){return te.get("profile/".concat(e)).then((function(e){return e.data}))},ue=function(e){return te.get("profile/status/".concat(e)).then((function(e){return e.data}))},le=function(e){return te.put("profile/status",{status:e}).then((function(e){return e.data}))},de="FOLLOW",je="UNFOLLOW",be="SET-USERS",fe="SET-CURRENT-PAGE",he="SET-TOTAL-USERS-COUNT",pe="TOGGLE-IS-FETCHING",Oe="TOGGLE-IS-FOLLOWING-PROGRESS",me={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},ge=function(e){return{type:de,userID:e}},xe=function(e){return{type:je,userID:e}},ve=function(e){return{type:fe,currentPage:e}},_e=function(e){return{type:pe,isFetching:e}},Ne=function(e,t){return{type:Oe,isFetching:e,userId:t}},Se=s(44),Ae=s.n(Se),Pe=s.p+"static/media/user_icon.86033422.png",Ce=s.p+"static/media/loader.d3fbaf2b.gif",we=function(){return Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:Ce,alt:""})})},ke=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],n=1;n<=t&&n<=15;n++)s.push(n);return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:Ae.a.pagination,children:s.map((function(t){return Object(_.jsx)("span",{className:e.currentPage===t?Ae.a.selectedPage:"",onClick:function(s){e.onPageChanged(t)},children:t})}))}),e.users.map((function(t){return Object(_.jsxs)("div",{className:Ae.a.users,children:[Object(_.jsxs)("div",{className:Ae.a.avaAndBtn,children:[Object(_.jsxs)(x.b,{to:"/profile/"+t.id,children:[e.isFetching?Object(_.jsx)(we,{}):null,Object(_.jsx)("img",{src:null!==t.photos.small?t.photos.small:Pe,alt:""})]}),t.followed?Object(_.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollowMode(t.id)},children:"unfollow"}):Object(_.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.followMode(t.id)},style:{background:"coral"},children:"follow"})]}),Object(_.jsxs)("div",{className:Ae.a.info,children:[Object(_.jsxs)("div",{children:["\u0438\u043c\u044f: ",Object(_.jsx)("b",{children:t.name})]}),Object(_.jsx)("div",{children:"\u0441\u0442\u0430\u0442\u0443\u0441: \u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(_.jsx)("div",{children:"\u0433\u043e\u0440\u043e\u0434: \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"})]})]},t.id)}))]})},Ue=s(129),Ie=Object(Ue.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return e}))})),Te=function(e){return e.usersPage.pageSize},ye=function(e){return e.usersPage.totalUsersCount},Ee=function(e){return e.usersPage.currentPage},Fe=function(e){return e.usersPage.isFetching},Me=function(e){return e.usersPage.followingInProgress},De=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize),e.props.setCurrentPage(t)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(_.jsx)(_.Fragment,{children:this.props.isFetching?Object(_.jsx)(we,{}):Object(_.jsx)(ke,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,isFetching:this.props.isFetching,followMode:this.props.followMode,unfollowMode:this.props.unfollowMode})})}}]),s}(a.a.Component),ze=Object(B.d)(Object(L.b)((function(e){return{users:Ie(e),pageSize:Te(e),totalUsersCount:ye(e),currentPage:Ee(e),isFetching:Fe(e),followingInProgress:Me(e)}}),{follow:ge,unfollow:xe,setCurrentPage:ve,toggleIsFollowingProgress:Ne,requestUsers:function(e,t){return function(s){s(_e(!0)),s(ve(e)),se(e,t).then((function(e){var t,n;s(_e(!1)),s((t=e.items,{type:be,users:t})),s((n=e.totalCount,{type:he,count:n}))}))}},followMode:function(e){return function(t){t(Ne(!0,e)),ae(e).then((function(s){0===s.resultCode&&t(ge(e)),t(Ne(!1,e))}))}},unfollowMode:function(e){return function(t){t(Ne(!0,e)),ne(e).then((function(s){0===s.resultCode&&t(xe(e)),t(Ne(!1,e))}))}}}),G)(De),Le=s(38),Be={id:null,email:null,login:null,isAuth:!1},Re=function(e,t,s,n){return{type:"SET-USER-DATA",data:{userId:e,email:t,login:s,isAuth:n}}},Ge=function(){return function(e){return re().then((function(t){if(0===t.resultCode){var s=t.data,n=s.id,a=s.email,r=s.login;e(Re(n,a,r,!0))}}))}},Qe=Object(w.a)({form:"login"})((function(e){return Object(_.jsxs)("form",{className:I.a.formBlock,onSubmit:e.handleSubmit,children:[Object(_.jsx)("h1",{children:"\u0412\u0445\u043e\u0434:"}),Object(_.jsx)("div",{className:I.a.inputs,children:Object(_.jsx)(C.a,{placeholder:"\u043b\u043e\u0433\u0438\u043d...",name:"login",component:E,validate:[F]})}),Object(_.jsx)("div",{className:I.a.inputs,children:Object(_.jsx)(C.a,{type:"password",name:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c...",component:E,validate:[F]})}),Object(_.jsxs)("div",{className:I.a.checkBox,children:[Object(_.jsx)(C.a,{type:"checkbox",name:"rememberMe",component:E}),Object(_.jsx)("span",{children:"\u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]}),e.error&&Object(_.jsx)("div",{className:I.a.formSummaryError,children:e.error}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{children:"\u0432\u043e\u0439\u0442\u0438"})})]})})),qe=Object(L.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginTC:function(e,t,s){return function(n){ie(e,t,s).then((function(e){if(0===e.data.resultCode)n(Ge());else{var t=e.data.messages.length>0?e.data.messages[0]:"some error";n(Object(Le.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object(_.jsx)(d.a,{to:"/profile"}):Object(_.jsx)("div",{children:Object(_.jsx)(Qe,{onSubmit:function(t){e.loginTC(t.login,t.password,t.rememberMe)}})})})),Ve=s(69),Je=s.n(Ve),We=s(21),Ye=s.n(We),Ke=s.p+"static/media/avatar.35b2083a.jpg",He=s(93);function Xe(e){var t=Object(n.useState)(!1),s=Object(He.a)(t,2),a=s[0],r=s[1],i=Object(n.useState)(e.status),c=Object(He.a)(i,2),o=c[0],u=c[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return Object(_.jsx)("div",{children:a?Object(_.jsx)("div",{children:Object(_.jsx)("input",{type:"text",onChange:function(e){var t=e.currentTarget.value;u(t)},onBlur:function(){r(!1),e.userUpdateStatus(o)},value:o,autoFocus:!0})}):Object(_.jsx)("div",{children:Object(_.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"\u0441\u0442\u0430\u0442\u0443\u0441 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d..."})})})}var Ze=function(e){if(!e.profile)return Object(_.jsx)(we,{});return Object(_.jsxs)("div",{className:Ye.a.profileInfo,children:[Object(_.jsxs)("div",{className:Ye.a.user,children:[Object(_.jsx)("img",{src:Ke}),Object(_.jsxs)("div",{className:Ye.a.inform,children:[Object(_.jsx)("div",{className:Ye.a.name,children:"\u041a\u0410\u041c\u0420\u0410\u041d \u0411\u0410\u0411\u0410\u0415\u0412"}),Object(_.jsx)(Xe,{status:e.status,userUpdateStatus:e.userUpdateStatus,getUserStatus:e.getUserStatus}),Object(_.jsx)("div",{children:"\u0432\u043e\u0437\u0440\u0430\u0441\u0442: 27 \u043b\u0435\u0442"}),Object(_.jsx)("div",{children:"\u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u044c: \u0441\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(_.jsx)("div",{children:"\u0433\u043e\u0440\u043e\u0434: \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0420\u043e\u0441\u0441\u0438\u044f"})]})]}),Object(_.jsx)("div",{className:Ye.a.user,children:Object(_.jsxs)("div",{className:Ye.a.inform,children:[Object(_.jsx)("img",{src:e.profile.photos.small,alt:""}),Object(_.jsx)("div",{className:Ye.a.name,children:e.profile.fullName}),Object(_.jsx)(Xe,{status:e.status,userUpdateStatus:e.userUpdateStatus,getUserStatus:e.getUserStatus}),Object(_.jsxs)("div",{className:Ye.a.aboutMe,children:["\u041e\u0431\u043e \u043c\u043d\u0435:",e.profile.aboutMe]}),Object(_.jsx)("div",{className:Ye.a.jobStatus,children:e.profile.lookingForAJob?Object(_.jsx)("div",{children:"\u0421\u0442\u0430\u0442\u0443\u0441: \u0440\u0430\u0431\u043e\u0442\u0430\u044e"}):Object(_.jsx)("div",{children:"\u0421\u0442\u0430\u0442\u0443\u0441: \u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"})}),Object(_.jsxs)("div",{className:Ye.a.contacts,children:["\u041c\u043e\u0439 \u0438\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c\u043c: ",e.profile.contacts.instagram]})]})})]})},$e="ADD-POST",et="SET-USER-PROFILE",tt="SET-USER-STATUS",st={posts:[{id:1,title:"\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0441\u0442 \u0434\u043b\u044f \u0441\u043e\u0446 \u0441\u0435\u0442\u0438.",likeCounts:22},{id:2,title:"\u0412\u0442\u043e\u0440\u043e\u0439 \u043f\u043e\u0441\u0442, \u043a\u0440\u0435\u0430\u0442\u0438\u0432 \u043d\u0435 \u043c\u043e\u0435...",likeCounts:19}],profile:null,status:""},nt=function(e){return{type:tt,status:e}},at=s(71),rt=s.n(at),it=s(45),ct=s.n(it),ot=s.p+"static/media/avatar.fd7aeb24.jpg",ut=s.p+"static/media/liked.8d60aaea.svg",lt=function(e){return Object(_.jsxs)("div",{className:ct.a.posts,children:[Object(_.jsx)("img",{className:ct.a.imgAvatar,alt:"",src:ot}),Object(_.jsx)("div",{className:ct.a.title,children:e.title}),Object(_.jsxs)("div",{className:ct.a.likesBlock,children:[Object(_.jsx)("img",{className:ct.a.liked,src:ut,alt:""}),e.likeCounts]})]})},dt=M(5),jt=Object(w.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(_.jsxs)("form",{onSubmit:e.handleSubmit,className:rt.a.textForm,children:[Object(_.jsx)(C.a,{component:y,placeholder:"\u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442...",name:"newPostText",validate:[F,dt]}),Object(_.jsxs)("div",{className:rt.a.buttons,children:[Object(_.jsx)("button",{children:"SEND"}),Object(_.jsx)("button",{children:"DELETE"})]})]})})),bt=Object(L.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{onAddPost:function(t){e(function(e){return{type:$e,newPostText:e}}(t))}}}))((function(e){var t=e.posts.map((function(e){return Object(_.jsx)(lt,{id:e.id,likeCounts:e.likeCounts,title:e.title},e.id)}));return Object(_.jsxs)("div",{className:rt.a.myPosts,children:[Object(_.jsx)(jt,{onSubmit:function(t){e.onAddPost(t.newPostText)}}),Object(_.jsx)("div",{children:t})]})})),ft=function(e){return Object(_.jsxs)("div",{className:Je.a.profile,children:[Object(_.jsx)(Ze,{profile:e.profile,status:e.status,userUpdateStatus:e.userUpdateStatus,getUserStatus:e.getUserStatus}),Object(_.jsx)(bt,{})]})},ht=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserID)||this.props.history.push("/login"),this.props.getUsersProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return Object(_.jsx)("div",{className:Je.a.profile,children:Object(_.jsx)(ft,Object(b.a)(Object(b.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,userUpdateStatus:this.props.userUpdateStatus,getUserStatus:this.props.getUserStatus}))})}}]),s}(a.a.Component),pt=Object(B.d)(Object(L.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserID:e.auth.userId,isAuth:e.auth.isAuth}}),{getUsersProfile:function(e){return function(t){oe(e).then((function(e){t(function(e){return{type:et,profile:e}}(e))}))}},getUserStatus:function(e){return function(t){ue(e).then((function(e){t(nt(e))}))}},userUpdateStatus:function(e){return function(t){le(e).then((function(s){0===s.data.resultCode&&t(nt(e))}))}}}),d.f,G)(ht),Ot=s(56),mt=s.n(Ot),gt=function(e){return Object(_.jsxs)("div",{className:mt.a.header,children:[Object(_.jsx)("div",{className:mt.a.logo,children:"FRND"}),Object(_.jsxs)("div",{className:mt.a.searchBlock,children:[Object(_.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAACC0lEQVRo3u2YP08CMRiHD00QNm8k4cTRHaJx12/AqB9DRxJX4wThA+gGGlZ1gI3EEWf/kGiMm4NGEg36uBhtywXuLj3aob+Npr/y5Pr27dvX85ycnJyckotlqtTpMmQEjBjSpU6VZRMw23T4IFwfdNieJ8wmV8zWFZvzgMnR5Jto+qZJLl2cgAHxNCBID2eNR+LrkbW0vs4kzhstdqhQ9DyKVNihxVsIUpBG7Kib9cI+SyEzl9jnZWLjdMcSTeUvWvhTZvu0lPlN3Qf9Szo9tQiemnQav7QmASXv1CK6anJe0pmV5c3KRPRllI3Tlb3pSKHsx3D6Unh39OD40p21F9O9J91xvg6gqrDkK/mY7jyvgr+qA6ghLNhO4G8L/oYOoJ6w4G4C/67g7+kAehAWLCfwlwX/gw4gMQYKwvhUCfMKYgzqABoLC2YTAGWF4U/bvtCzbTE0sO2UXdqWh45sy9Q6rleNd9l7WIVp8rY/ta0eqthVMV7YVVOPWbfr1XFg17usz6JNL1c4ZsGet/2/hqya7370ORF+3VMy2R8ac8AiC9KYfqTIHbRzNkIrpzSQZvQY3zkTKyeGc0Ga6MI+cU2XQ7bU1gur3CtId6yYbSCXHFJCpMA00p2CdGsaacUhJUQqmkUKuFWQbhzSTCTTQAqSeRzP8zyK3FiE84dkD84vkk04Tk5OTk6x9QODdupMk0QS6AAAAABJRU5ErkJggg==",width:28,height:28,alt:""}),Object(_.jsx)("input",{placeholder:"\u043f\u043e\u0438\u0441\u043a..."})]}),Object(_.jsx)("div",{className:mt.a.loginBlock,children:e.isAuth?Object(_.jsxs)("div",{children:[e.login,Object(_.jsx)("button",{onClick:e.logoutTC,children:"\u0432\u044b\u0439\u0442\u0438"})]}):Object(_.jsx)(x.b,{to:"/Login",children:"LOGIN"})})]})},xt=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(_.jsx)(gt,{login:this.props.login,isAuth:this.props.isAuth,logoutTC:this.props.logoutTC})}}]),s}(a.a.Component),vt=Object(L.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logoutTC:function(){return function(e){ce().then((function(t){0===t.data.resultCode&&e(Re(null,null,null,!1))}))}}})(xt),_t={initialized:!1},Nt=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.initializedAppTC()}},{key:"render",value:function(){return this.props.initialized?Object(_.jsxs)("div",{className:"App-wrapper",children:[Object(_.jsx)(vt,{}),Object(_.jsx)($,{}),Object(_.jsxs)("div",{className:"App-wrapper-content",children:[Object(_.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(_.jsx)(pt,{})}}),Object(_.jsx)(d.b,{exact:!0,path:"/dialogs",render:function(){return Object(_.jsx)(Q,{})}}),Object(_.jsx)(d.b,{exact:!0,path:"/users",render:function(){return Object(_.jsx)(ze,{})}}),Object(_.jsx)(d.b,{exact:!0,path:"/login",render:function(){return Object(_.jsx)(qe,{})}})]})]}):Object(_.jsx)(we,{})}}]),s}(n.Component),St=Object(B.d)(d.f,Object(L.b)((function(e){return{initialized:e.app.initialized}}),{initializedAppTC:function(){return function(e){var t=e(Ge());Promise.all([t]).then((function(){e({type:"SET_INITIALIZED"})}))}}}))(Nt),At={friend:[{id:1,name:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439"},{id:2,name:"\u0410\u043d\u0434\u0440\u0435\u0439"},{id:3,name:"\u0412\u0438\u043a\u0442\u043e\u0440"},{id:4,name:"\u0421\u0442\u0430\u0441"},{id:5,name:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439"},{id:6,name:"\u041c\u0430\u043a\u0441\u0438\u043c"}]},Pt=s(130),Ct=s(125),wt=Object(B.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case $e:var s={id:5,title:t.newPostText,likeCounts:0};return Object(b.a)(Object(b.a)({},e),{},{posts:[s].concat(Object(j.a)(e.posts))});case et:return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case tt:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});default:return e}},messagePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(b.a)(Object(b.a)({},e),{},{dialogs:Object(j.a)(e.dialogs),messages:[].concat(Object(j.a)(e.messages),[{id:10,message:t.newMessageText}])});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(b.a)(Object(b.a)({},e),{},{followed:!0}):e}))});case je:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(b.a)(Object(b.a)({},e),{},{followed:!1}):e}))});case be:return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case fe:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case he:return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.count});case pe:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case Oe:return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(j.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(b.a)(Object(b.a)({},e),t.data);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},form:Ct.a}),kt=Object(B.e)(wt,Object(B.a)(Pt.a));i.a.render(Object(_.jsx)(x.a,{children:Object(_.jsx)(L.a,{store:kt,children:Object(_.jsx)(St,{})})}),document.getElementById("root"))},44:function(e,t,s){e.exports={users:"Users_users__tad4V",info:"Users_info__1jUB1",avaAndBtn:"Users_avaAndBtn__2Fitd",pagination:"Users_pagination__tc9u3",selectedPage:"Users_selectedPage__dYIm4"}},45:function(e,t,s){e.exports={posts:"Post_posts__2znaa",imgAvatar:"Post_imgAvatar__YDTRY",title:"Post_title__WlU8u",likesBlock:"Post_likesBlock__L_4vL"}},55:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__3NM6i",item:"Dialogs_item__EkW7C"}},56:function(e,t,s){e.exports={header:"Header_header__19xtY",logo:"Header_logo__1kbZV",loginBlock:"Header_loginBlock__1flqr",searchBlock:"Header_searchBlock__1onPG"}},69:function(e,t,s){},71:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__1bdgn",textForm:"MyPosts_textForm__uSFXe",buttons:"MyPosts_buttons__BHSzV"}},88:function(e,t,s){e.exports={dialog:"DialogItem_dialog__1lXpr"}}},[[284,1,2]]]);
//# sourceMappingURL=main.244d0215.chunk.js.map