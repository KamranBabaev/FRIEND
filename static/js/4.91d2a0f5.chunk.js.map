{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Users/Users.module.css","components/Users/user_icon.png","components/Users/Paginator/Paginator.tsx","components/Users/prev.png","components/Users/next.png","components/Users/Users.tsx","../node_modules/reselect/es/index.js","redux/users-selector.ts","components/Users/UsersContainer.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Paginator","props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","style","pagination","src","alt","onClick","filter","page","map","currentPage","selectedPage","event","onPageChanged","Users","users","u","avaAndBtn","to","id","isFetching","photos","small","avatar","followed","disabled","followingInProgress","some","unfollowMode","followMode","background","info","name","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","getDependencies","funcs","dependencies","every","dep","dependencyTypes","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","setCurrentPage","this","follow","unfollow","React","Component","compose","connect","toggleIsFollowingProgress","withAuthRedirect"],"mappings":"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","file":"static/js/4.91d2a0f5.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__tad4V\",\"info\":\"Users_info__1jUB1\",\"avaAndBtn\":\"Users_avaAndBtn__2Fitd\",\"pagination\":\"Users_pagination__tc9u3\",\"selectedPage\":\"Users_selectedPage__dYIm4\"};","export default __webpack_public_path__ + \"static/media/user_icon.86033422.png\";","import style from \"../Users.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport nextPages from '../next.png'\r\nimport prevPages from '../prev.png'\r\n\r\ntype PaginatorPropsType = {\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const Paginator = (props: PaginatorPropsType) => {\r\n\r\n  const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n  const pages = []\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  //\r\n  let portionSize = 10\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize)\r\n  const [portionNumber, setPortionNumber] = useState(1)\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n  const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\r\n  return <div className={style.pagination}>\r\n    {\r\n      portionNumber >= 1 && <img src={prevPages} alt=''\r\n                                 onClick={() => setPortionNumber(portionNumber - 1)}/>\r\n    }\r\n\r\n    {\r\n      pages\r\n          .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n          .map(page => {\r\n            return <span\r\n                className={props.currentPage === page ? style.selectedPage : ''}\r\n                onClick={(event) => {\r\n                  props.onPageChanged(page)\r\n                }}>\r\n            {page}</span>\r\n          })\r\n    }\r\n\r\n    {\r\n      portionCount > portionNumber && <img src={nextPages} alt=''\r\n                                           onClick={() => setPortionNumber(portionNumber + 1)}/>\r\n    }\r\n  </div>\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAA3NCSVQICAjb4U/gAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAkUlEQVRIS+2VYQ7AEAxG2zmWoziMOIU7cEVi68ISk0ViumSJ90f0x/eCAtMBMLLlkY0l6PIo8N5DjDHPXkBddEdrTZ2VrLW5Mk4jKOFKqRRCyNVxKsHscOIScIQTp4ArnEAKN8YAIoKUEoQQh2se7PeAfYu+OeQCh6QSELMljYAoEpanouCcm7KC9WV2+bsAYAfCU+3PAu6pRAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAACzAAAAswG504oEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAB5QTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhow4rQAAAAl0Uk5TAANVaICkwMP+MDMkcwAAAC1JREFUGFdjYKAWEELmWDogcUSnIHEYI/FKpcFBxRRUDnYTRImRQHUOikPJBQDFjBAzzgV84wAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport avatar from \"./user_icon.png\";\r\nimport {UserType} from \"../../redux/reducers/users-reducers\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Preloader} from \"../common/Preloader/Preolader\";\r\nimport {Paginator} from \"./Paginator/Paginator\";\r\nimport {UsersPropsType} from \"../../utils/types/types\";\r\n\r\nexport const Users = (props: UsersPropsType) => {\r\n\r\n  return <div>\r\n    <Paginator totalUsersCount={props.totalUsersCount}\r\n               pageSize={props.pageSize}\r\n               currentPage={props.currentPage}\r\n               onPageChanged={props.onPageChanged}/>\r\n\r\n    {\r\n      props.users.map(u => <div className={style.users} key={u.id}>\r\n\r\n            <div className={style.avaAndBtn}>\r\n              <NavLink to={'/profile/' + u.id}>\r\n                {props.isFetching ? <Preloader/> : null}\r\n                <img src={u.photos.small !== null ? u.photos.small : avatar}\r\n                     alt=''/>\r\n              </NavLink>\r\n              {\r\n                u.followed\r\n                    ? <button\r\n                        disabled={props.followingInProgress.some(id => id === u.id)}\r\n                        onClick={() => {\r\n                          props.unfollowMode(u.id)\r\n                        }}>\r\n                      unfollow</button>\r\n                    : <button\r\n                        disabled={props.followingInProgress.some(id => id === u.id)}\r\n                        onClick={() => {\r\n                          props.followMode(u.id)\r\n                        }}\r\n                        style={{background: 'coral'}}>\r\n                      follow</button>\r\n              }\r\n            </div>\r\n\r\n            <div className={style.info}>\r\n              <div>имя: <b>{u.name}</b></div>\r\n              <div>статус: в поисках работы</div>\r\n              <div>город: Санкт-Петербург, Россия</div>\r\n            </div>\r\n          </div>\r\n      )\r\n    }\r\n  </div>\r\n}\r\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import {RootReduxStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\nimport {UserType} from \"./reducers/users-reducers\";\r\n\r\nconst getUsersSelector = (state: RootReduxStateType) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users: Array<UserType>) => {\r\n       return users.filter(u => u)\r\n    })\r\n\r\nexport const getPageSize = (state: RootReduxStateType) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootReduxStateType) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: RootReduxStateType) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: RootReduxStateType) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: RootReduxStateType) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\n","import {connect} from \"react-redux\";\r\nimport {\r\n  follow,\r\n  followMode,\r\n  requestUsers,\r\n  setCurrentPage,\r\n  toggleIsFollowingProgress,\r\n  unfollow,\r\n  unfollowMode,\r\n  UserType\r\n} from \"../../redux/reducers/users-reducers\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\nimport React, {ComponentType} from \"react\";\r\n\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preolader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n} from \"../../redux/users-selector\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\ntype mapStateType = {\r\n  users: Array<UserType>\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n}\r\n\r\ntype UsersPropsType = {\r\n  users: Array<UserType>\r\n  follow: (userID: number) => void\r\n  unfollow: (userID: number) => void\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  setCurrentPage: (pageNumber: number) => void\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n  getUsers: (currentPage: number, pageSize: number) => void\r\n  followMode: (id: number) => void\r\n  unfollowMode: (id: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<any> {\r\n\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber: number) => {\r\n    this.props.requestUsers(pageNumber, this.props.pageSize)\r\n    this.props.setCurrentPage(pageNumber)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <>\r\n          {\r\n            this.props.isFetching\r\n                ? <Preloader/>\r\n                : <Users totalUsersCount={this.props.totalUsersCount}\r\n                         pageSize={this.props.pageSize}\r\n                         currentPage={this.props.currentPage}\r\n                         onPageChanged={this.onPageChanged}\r\n                         users={this.props.users}\r\n                         follow={this.props.follow}\r\n                         unfollow={this.props.unfollow}\r\n                         followingInProgress={this.props.followingInProgress}\r\n                         isFetching={this.props.isFetching}\r\n                         followMode={this.props.followMode}\r\n                         unfollowMode={this.props.unfollowMode}/>\r\n          }\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): mapStateType => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {\r\n      follow,\r\n      unfollow,\r\n      setCurrentPage,\r\n      toggleIsFollowingProgress,\r\n      requestUsers,\r\n      followMode,\r\n      unfollowMode\r\n    }), withAuthRedirect)(UsersContainer)\r\n"],"sourceRoot":""}