{"version":3,"sources":["utils/helpers/object-helper.ts","redux/reducers/users-reducers.ts","components/Navbar/Navbar.module.css","components/Dialogs/Message/Message.module.css","api/api.ts","components/Navbar/icons/avatar.png","components/Navbar/icons/profile.svg","components/Navbar/icons/friends.svg","components/Navbar/icons/messages.svg","components/Navbar/icons/news.svg","components/Navbar/icons/music.svg","components/Navbar/icons/settings.svg","components/Navbar/NavbarContainer.tsx","components/Navbar/Navbar.tsx","components/Header/Header.tsx","components/Header/searchICON.png","components/Header/HeaderContainer.tsx","redux/reducers/app-reducers.ts","redux/reducers/dialogs-reducers.ts","components/Dialogs/DialogItem/avatar.png","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","App.tsx","redux/reducers/sidebar-reducers.ts","redux/redux-store.ts","index.tsx","redux/reducers/auth-reducers.ts","components/Header/Header.module.css","components/Dialogs/Dialogs.module.css","utils/validators/validator.ts","components/common/FormsControl/FormsControl.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/common/Preloader/loader.gif","components/common/Preloader/Preolader.tsx","components/common/FormsControl/FormsControl.tsx","hoc/withAuthRedirect.tsx","redux/reducers/profile-reducers.ts"],"names":["updateObjectInArray","items","itemID","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SETUSERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","usersReducer","state","action","type","userID","followed","count","userId","filter","id","follow","unfollow","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","requestUsers","page","dispatch","a","usersAPI","getUsers","promise","data","totalCount","followMode","isFollow","resultCode","unfollowMode","isUnfollow","module","exports","instance","axios","create","baseURL","withCredentials","headers","get","delete","post","authAPI","getMe","login","email","password","rememberMe","logout","profileAPI","getUserByID","getStatus","updateStatus","status","put","NavbarContainer","connect","sidebar","props","friendElements","friend","f","className","style","src","avatar","alt","name","navbar","navbarElements","activeClassName","activeLink","to","profile","friends","messages","news","music","settings","titleFriends","Header","header","logo","searchBlock","width","height","placeholder","loginBlock","isAuth","onClick","logoutTC","HeaderContainer","this","React","Component","auth","initState","initialized","ADD_MESSAGE","dialogs","message","DialogItem","dialogURL","dialog","nav","Message","maxLength10","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","DialogsContainer","compose","messagePage","dialogsItem","newMessageText","onAddMessage","addMessageAC","withAuthRedirect","dialogsElements","d","messagesElements","m","d_items","item","values","ProfileContainer","lazy","UsersContainer","Login","App","initializedAppTC","fallback","path","render","exact","withRouter","app","getAuthUserDataTC","Promise","all","reducer","combineReducers","profilePage","profileReducer","usersPage","authReducer","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","setAuthUserDataAC","loginTC","length","stopSubmit","_error","value","maxLength","Preloader","preolader","FormControl","input","meta","child","hasError","touched","error","styles","formControl","children","restProps","Input","mapStateToPropsForRedirect","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","posts","title","likeCounts","console","log","newPost","newPostText","p","postId","addPostAC","setUserStatusAC","deletePost","getUsersProfile","getUserStatus","userUpdateStatus"],"mappings":"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","file":"static/js/main.73d290e0.chunk.js","sourcesContent":["export const updateObjectInArray = (items: any, itemID: any, objPropName: any, newObjProps: any) => {\r\n  // @ts-ignore\r\n  return items.map(u => {\r\n        if (u[objPropName] === itemID) {\r\n          return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n      }\r\n  )\r\n}","import {usersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/helpers/object-helper\";\r\n\r\ntype actionType =\r\n    followType\r\n    | unFollowType\r\n    | setUsersType\r\n    | currentPageType\r\n    | setTotalUsersCountType\r\n    | setIsFetchingType\r\n    | setIsFollowingType\r\n\r\ntype followType = {\r\n  type: 'FOLLOW'\r\n  userID: number\r\n}\r\n\r\ntype unFollowType = {\r\n  type: 'UNFOLLOW'\r\n  userID: number\r\n}\r\n\r\ntype setUsersType = {\r\n  type: 'SET-USERS'\r\n  users: UserType[]\r\n}\r\n\r\ntype currentPageType = {\r\n  type: 'SET-CURRENT-PAGE'\r\n  currentPage: number\r\n}\r\n\r\ntype setTotalUsersCountType = {\r\n  type: 'SET-TOTAL-USERS-COUNT'\r\n  count: number\r\n}\r\n\r\ntype setIsFetchingType = {\r\n  type: 'TOGGLE-IS-FETCHING'\r\n  isFetching: boolean\r\n}\r\n\r\ntype setIsFollowingType = {\r\n  type: 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n  isFetching: boolean\r\n  userId: number\r\n}\r\n\r\ntype UsersType = {\r\n  users: Array<UserType>\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n}\r\n\r\nexport type UserType = {\r\n  name: string\r\n  id: number\r\n  photos: {\r\n    small: string | null\r\n    large: string | null\r\n  }\r\n  status: string\r\n  followed: boolean\r\n\r\n}\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SETUSERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: UsersType = initialState, action: actionType): UsersType => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n      }\r\n\r\n    case SETUSERS:\r\n      return {...state, users: action.users}\r\n\r\n    case SET_CURRENT_PAGE: {\r\n      return {...state, currentPage: action.currentPage}\r\n    }\r\n\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return {...state, totalUsersCount: action.count}\r\n    }\r\n\r\n    case TOGGLE_IS_FETCHING: {\r\n      return {...state, isFetching: action.isFetching}\r\n    }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n            ? [...state.followingInProgress, action.userId]\r\n            : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nexport const follow = (userID: number): followType => ({type: FOLLOW, userID})\r\nexport const unfollow = (userID: number): unFollowType => ({\r\n  type: UNFOLLOW,\r\n  userID\r\n})\r\nexport const setUsers = (users: Array<UserType>): setUsersType => ({\r\n  type: SETUSERS,\r\n  users\r\n})\r\nexport const setCurrentPage = (currentPage: number): currentPageType => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage\r\n})\r\nexport const setTotalUsersCount = (count: number): setTotalUsersCountType => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count\r\n})\r\nexport const toggleIsFetching = (isFetching: boolean): setIsFetchingType => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching\r\n})\r\n\r\nexport const toggleIsFollowingProgress = (isFetching: boolean,\r\n                                          userId: number): setIsFollowingType => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n})\r\n\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let promise = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(promise.data.items))\r\n    dispatch(setTotalUsersCount(promise.data.totalCount))\r\n  }\r\n}\r\n\r\nexport const followMode = (id: number) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, id))\r\n    let promise = await usersAPI.isFollow(id)\r\n    if (promise.data.resultCode === 0) {\r\n      dispatch(follow(id))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, id))\r\n  }\r\n}\r\n\r\nexport const unfollowMode = (id: number) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, id))\r\n    let promise = await usersAPI.isUnfollow(id)\r\n    if (promise.data.resultCode === 0) {\r\n      dispatch(unfollow(id))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, id))\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2kShT\",\"navbarElements\":\"Navbar_navbarElements__1QKN0\",\"items\":\"Navbar_items__2hxzF\",\"friend\":\"Navbar_friend__3KIsM\",\"titleFriends\":\"Navbar_titleFriends__2Ne7I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Message_messages__32cnW\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"f96f3f30-1614-4efb-864a-596256d296ea\"\r\n  }\r\n})\r\n\r\ntype respGetMeType = {\r\n  resultCode: number\r\n  messages: string[]\r\n  data: {\r\n    id: number | null\r\n    email: string\r\n    login: string\r\n  }\r\n}\r\n\r\nexport const usersAPI = {\r\n  async getUsers(currentPage: number, pageSize: number) {\r\n    return await instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n  },\r\n  async isUnfollow(id: number) {\r\n    return await instance.delete(`follow/${id}`)\r\n  },\r\n  async isFollow(id: number) {\r\n    return await instance.post(`follow/${id}`, {})\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  async getMe() {\r\n    return await instance.get<respGetMeType>(`auth/me`)\r\n  },\r\n  async login(email: string, password: string, rememberMe: boolean = false) {\r\n    return await instance.post('auth/login', {email, password, rememberMe})\r\n  },\r\n  async logout() {\r\n    return await instance.delete('auth/login')\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  async getUserByID(userId: string) {\r\n    return await instance.get(`profile/${userId}`)\r\n  },\r\n  async getStatus(userId: string) {\r\n    return await instance.get(`profile/status/${userId}`)\r\n  },\r\n  async updateStatus(status: string) {\r\n    return await instance.put(`profile/status`, {status})\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/avatar.7bdf7b93.png\";","export default __webpack_public_path__ + \"static/media/profile.a296afc6.svg\";","export default __webpack_public_path__ + \"static/media/friends.cc1aa831.svg\";","export default __webpack_public_path__ + \"static/media/messages.7be6e02d.svg\";","export default __webpack_public_path__ + \"static/media/news.12440c92.svg\";","export default __webpack_public_path__ + \"static/media/music.af606310.svg\";","export default __webpack_public_path__ + \"static/media/settings.f00ed622.svg\";","import {SidebarType, StateType} from \"../../redux/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Navbar} from \"./Navbar\";\r\n\r\ntype MapStateType = {\r\n    sidebar: SidebarType\r\n}\r\n\r\nconst mapStateToProps = (state: StateType): MapStateType => {\r\n    return {\r\n        sidebar: state.sidebar\r\n    }\r\n}\r\n\r\nexport const NavbarContainer = connect(mapStateToProps) (Navbar);","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from './Navbar.module.css'\r\nimport avatar from './icons/avatar.png'\r\nimport {SidebarType} from \"../../redux/store\";\r\nimport profile from './icons/profile.svg'\r\nimport friends from './icons/friends.svg'\r\nimport messages from './icons/messages.svg'\r\nimport news from './icons/news.svg'\r\nimport music from './icons/music.svg'\r\nimport settings from './icons/settings.svg'\r\n\r\ntype PropsType = {\r\n    sidebar: SidebarType\r\n}\r\n\r\nexport const Navbar = (props: PropsType) => {\r\n\r\n    const friendElements = props.sidebar.friend.map(f => <div className={style.friend} key={f.id}>\r\n        <img src={avatar} alt=''/>\r\n        {f.name}\r\n    </div>)\r\n\r\n    return (\r\n        <div className={style.navbar}>\r\n            <div className={style.navbarElements}>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/profile'>\r\n                        <img src={profile} alt=''/>\r\n                        Профиль\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/users'>\r\n                        <img src={friends} alt=''/>\r\n                        Друзья\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/dialogs'>\r\n                        <img src={messages} alt=''/>\r\n                        Сообщения\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/news'>\r\n                        <img src={news} alt=''/>\r\n                        Новости\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/music'>\r\n                        <img src={music} alt=''/>\r\n                        Музыка\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/settings'>\r\n                        <img src={settings} alt=''/>\r\n                        Настройки\r\n                    </NavLink>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={style.friends}>\r\n                <div className={style.titleFriends}>Друзья онлайн:</div>\r\n                {friendElements}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from './Header.module.css'\r\nimport searchICON from './searchICON.png'\r\n\r\ntype HeaderPropsType = {\r\n  isAuth: boolean\r\n  login: string | null\r\n  logoutTC: () => void\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n  return (\r\n      <div className={style.header}>\r\n        <div className={style.logo}>FRND</div>\r\n        <div className={style.searchBlock}>\r\n          <img src={searchICON} width={28} height={28} alt=''/>\r\n          <input placeholder='поиск...'/>\r\n        </div>\r\n        <div className={style.loginBlock}>\r\n          {props.isAuth\r\n              ? <div>{props.login}\r\n                <button onClick={props.logoutTC}>\r\n                  выйти\r\n                </button>\r\n              </div>\r\n              : <NavLink to={'/Login'}>LOGIN</NavLink>\r\n          }\r\n        </div>\r\n      </div>\r\n  )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAACC0lEQVRo3u2YP08CMRiHD00QNm8k4cTRHaJx12/AqB9DRxJX4wThA+gGGlZ1gI3EEWf/kGiMm4NGEg36uBhtywXuLj3aob+Npr/y5Pr27dvX85ycnJyckotlqtTpMmQEjBjSpU6VZRMw23T4IFwfdNieJ8wmV8zWFZvzgMnR5Jto+qZJLl2cgAHxNCBID2eNR+LrkbW0vs4kzhstdqhQ9DyKVNihxVsIUpBG7Kib9cI+SyEzl9jnZWLjdMcSTeUvWvhTZvu0lPlN3Qf9Szo9tQiemnQav7QmASXv1CK6anJe0pmV5c3KRPRllI3Tlb3pSKHsx3D6Unh39OD40p21F9O9J91xvg6gqrDkK/mY7jyvgr+qA6ghLNhO4G8L/oYOoJ6w4G4C/67g7+kAehAWLCfwlwX/gw4gMQYKwvhUCfMKYgzqABoLC2YTAGWF4U/bvtCzbTE0sO2UXdqWh45sy9Q6rleNd9l7WIVp8rY/ta0eqthVMV7YVVOPWbfr1XFg17usz6JNL1c4ZsGet/2/hqya7370ORF+3VMy2R8ac8AiC9KYfqTIHbRzNkIrpzSQZvQY3zkTKyeGc0Ga6MI+cU2XQ7bU1gur3CtId6yYbSCXHFJCpMA00p2CdGsaacUhJUQqmkUKuFWQbhzSTCTTQAqSeRzP8zyK3FiE84dkD84vkk04Tk5OTk6x9QODdupMk0QS6AAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutTC} from \"../../redux/reducers/auth-reducers\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n\r\n  render() {\r\n    return <Header login={this.props.login}\r\n                   isAuth={this.props.isAuth}\r\n                   logoutTC={this.props.logoutTC}/>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): MapStatePropsType => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps,\r\n    {logoutTC})(HeaderContainer)\r\n\r\n// types\r\ntype MapStatePropsType = {\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n  logoutTC: () => void\r\n}\r\ntype HeaderContainerType = MapStatePropsType & MapDispatchPropsType","import {getAuthUserDataTC} from \"./auth-reducers\";\r\n\r\ntype actionType = setInitializedAT\r\ntype InitStateType = {\r\n  initialized: boolean\r\n}\r\nexport type setInitializedAT = ReturnType<typeof setInitializedAC>\r\n\r\nconst initState: InitStateType = {\r\n  initialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitStateType = initState,\r\n                           action: actionType): InitStateType => {\r\n\r\n  switch (action.type) {\r\n    case 'SET_INITIALIZED':\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setInitializedAC = () => ({type: 'SET_INITIALIZED'} as const);\r\n\r\nexport const initializedAppTC = () => async (dispatch: any) => {\r\n  let promise = dispatch(getAuthUserDataTC())\r\n  await Promise.all([promise])\r\n  dispatch(setInitializedAC())\r\n}","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\ntype AddMessageAT = {\r\n  type: 'ADD-MESSAGE'\r\n  newMessageText: string\r\n}\r\n\r\ntype ActionType = AddMessageAT\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {id: 1, name: 'Василий'},\r\n    {id: 2, name: 'Петр'},\r\n  ],\r\n\r\n  messages: [\r\n    {id: 1, message: 'Привет, как дела?'},\r\n    {id: 2, message: 'Пошли пройдемся!'},\r\n  ],\r\n}\r\n\r\nexport const dialogsReducer = (state: any = initialState, action: ActionType) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        dialogs: [...state.dialogs],\r\n        messages: [...state.messages, {id: 10, message: action.newMessageText}],\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addMessageAC = (newMessageText: string): AddMessageAT => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageText\r\n})","export default __webpack_public_path__ + \"static/media/avatar.8f6f0a61.png\";","import React from \"react\";\r\nimport style from './DialogItem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {DialogType} from \"../../../redux/store\";\r\nimport avatar from './avatar.png'\r\n\r\ntype DialogItemType = DialogType\r\n\r\nexport const DialogItem = (props: DialogItemType) => {\r\n\r\n    let dialogURL = '/dialogs/' + props.id\r\n\r\n    return (\r\n        <div className={style.dialog}>\r\n            <NavLink activeClassName={style.nav} to={dialogURL}>\r\n                <img src={avatar}/>\r\n                {props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport style from \"./Message.module.css\";\r\n\r\ntype MessagePropsType = {\r\n    message: string\r\n}\r\n\r\n\r\nexport const Message = (props: MessagePropsType) => {\r\n\r\n    return (\r\n        <div className={style.messages}>\r\n            {props.message}\r\n        </div>\r\n\r\n    )\r\n}","import React from \"react\";\r\nimport style from './Dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport {DialogType, MessageType} from \"../../redux/store\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControl/FormsControl\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validator\";\r\n\r\ntype DialogsType = {\r\n  onAddMessage: (newMessageText: string) => void\r\n  messages: Array<MessageType>\r\n  dialogsItem: Array<DialogType>\r\n}\r\n\r\nexport const Dialogs = (props: DialogsType) => {\r\n\r\n  let dialogsElements = props.dialogsItem\r\n      .map(d => <DialogItem id={d.id} name={d.name} key={d.id}/>)\r\n\r\n  let messagesElements = props.messages\r\n      .map(m => <Message message={m.message} key={m.id}/>)\r\n\r\n  const addNewMessage = (values: any) => {\r\n    props.onAddMessage(values.newMessageText)\r\n  }\r\n\r\n  return (\r\n      <>\r\n        <div className={style.dialogs}>\r\n\r\n          <div className={style.d_items}>\r\n            {dialogsElements}\r\n          </div>\r\n\r\n          <div className={style.messages}>\r\n            {messagesElements}\r\n          </div>\r\n\r\n        </div>\r\n        <div className={style.item}>\r\n          <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n      </>\r\n  )\r\n}\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nexport const AddMessageForm = (props: any) => {\r\n  return (\r\n      <form onSubmit={props.handleSubmit}>\r\n        <Field component={Textarea}\r\n               name='newMessageText'\r\n               placeholder='введите сообщение...'\r\n               validate={[required, maxLength10]}\r\n        />\r\n\r\n        <div>\r\n          <button>SEND</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm(\r\n    {form: 'dialogsAddMessageForm'}\r\n)(AddMessageForm)","import React from \"react\";\r\nimport {addMessageAC} from \"../../redux/reducers/dialogs-reducers\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {FriendType, MessageType} from \"../../redux/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\n\r\ntype mapStateToProps = {\r\n  messages: Array<MessageType>\r\n  dialogsItem: Array<FriendType>\r\n  newMessageText: string\r\n}\r\n\r\ntype mapDispatchToProps = {\r\n  onAddMessage: (newMessageText: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): mapStateToProps => {\r\n\r\n  return {\r\n    messages: state.messagePage.messages,\r\n    dialogsItem: state.sidebar.friend,\r\n    newMessageText: state.messagePage.newMessageText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): mapDispatchToProps => {\r\n  return {\r\n    onAddMessage: (newMessageText: string) => {\r\n      dispatch(addMessageAC(newMessageText))\r\n    }\r\n  }\r\n}\r\n\r\nexport const DialogsContainer = compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n","import React, {Component, ComponentType} from 'react';\nimport './App.css';\nimport {Route, withRouter} from 'react-router-dom';\nimport {NavbarContainer} from \"./components/Navbar/NavbarContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializedAppTC} from \"./redux/reducers/app-reducers\";\nimport {RootReduxStateType} from \"./redux/redux-store\";\nimport {Preloader} from \"./components/common/Preloader/Preolader\";\nimport {Suspense} from 'react';\nimport {DialogsContainer} from \"./components/Dialogs/DialogsContainer\";\n\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\n\n\nclass App extends Component<PropsType> {\n\n  componentDidMount() {\n    this.props.initializedAppTC();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n\n    return (\n        <div className=\"App-wrapper\">\n          <HeaderContainer/>\n          <NavbarContainer/>\n          <div className='App-wrapper-content'>\n            <Suspense fallback={<div>Загрузка...</div>}>\n              <Route path='/profile/:userId?'\n                     render={() => <ProfileContainer/>}\n              />\n              <Route exact path='/dialogs'\n                     render={() => <DialogsContainer/>}\n              />\n              <Route exact path='/users'\n                     render={() => <UsersContainer/>}\n              />\n              <Route exact path='/login'\n                     render={() => <Login/>}\n              />\n            </Suspense>\n          </div>\n        </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootReduxStateType) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose<ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializedAppTC})\n)(App)\n\n\n// types\ntype MapDispatchToPropsType = {\n  initializedAppTC: () => void\n}\ntype MapStateToPropsType = {\n  initialized: boolean\n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\n","import {ActionType} from \"../store\";\r\n\r\nlet initialState = {\r\n    friend: [\r\n        {id: 1, name: 'Николай'},\r\n        {id: 2, name: 'Андрей'},\r\n        {id: 3, name: 'Виктор'},\r\n        {id: 4, name: 'Стас'},\r\n        {id: 5, name: 'Алексей'},\r\n        {id: 6, name: 'Максим'},\r\n    ]\r\n}\r\n\r\nexport const sidebarReducer = (state: any = initialState, action: ActionType) => {\r\n    return state\r\n}","import {createStore, combineReducers, applyMiddleware} from 'redux'\r\nimport {dialogsReducer} from \"./reducers/dialogs-reducers\";\r\nimport {profileReducer} from \"./reducers/profile-reducers\";\r\nimport {sidebarReducer} from \"./reducers/sidebar-reducers\";\r\nimport {usersReducer} from \"./reducers/users-reducers\";\r\nimport {authReducer} from \"./reducers/auth-reducers\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./reducers/app-reducers\";\r\n\r\nexport const reducer = combineReducers(\r\n    {\r\n      profilePage: profileReducer,\r\n      messagePage: dialogsReducer,\r\n      sidebar: sidebarReducer,\r\n      usersPage: usersReducer,\r\n      auth: authReducer,\r\n      app: appReducer,\r\n      form: formReducer,\r\n    }\r\n)\r\n\r\nexport type RootReduxStateType = ReturnType<typeof reducer>\r\n\r\nexport const store = createStore(reducer, applyMiddleware(thunkMiddleware))\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./redux/redux-store\";\n\nReactDOM.render(\n    <BrowserRouter>\n      <Provider store={store}>\n        <App/>\n      </Provider>\n    </BrowserRouter>, document.getElementById('root')\n)\n\n","import {authAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\ntype actionType = SetUserDataActionType\r\nexport type SetUserDataActionType = ReturnType<typeof setAuthUserDataAC>;\r\ntype InitStateType = {\r\n  id: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\n\r\nconst initState: InitStateType = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n}\r\n\r\nexport const authReducer = (\r\n    state: InitStateType = initState,\r\n    action: actionType): InitStateType => {\r\n\r\n  switch (action.type) {\r\n    case 'AUTH/SET-USER-DATA':\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserDataAC = (userId: number | null,\r\n                                  email: string | null,\r\n                                  login: string | null,\r\n                                  isAuth: boolean) =>\r\n    ({\r\n      type: 'AUTH/SET-USER-DATA',\r\n      data: {userId, email, login, isAuth,}\r\n    } as const);\r\n\r\n\r\nexport const getAuthUserDataTC = () => async (dispatch: any) => {\r\n  let promise = await authAPI.getMe()\r\n  if (promise.data.resultCode === 0) {\r\n    let {id, email, login} = promise.data.data\r\n    dispatch(setAuthUserDataAC(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const loginTC = (email: string,\r\n                        password: string,\r\n                        rememberMe: boolean) => async (dispatch: any) => {\r\n  let promise = await authAPI.login(email, password, rememberMe)\r\n  if (promise.data.resultCode === 0) {\r\n    dispatch(getAuthUserDataTC())\r\n  } else {\r\n    let message = promise.data.messages.length > 0 ? promise.data.messages[0] : 'some error';\r\n    dispatch(stopSubmit('login', {_error: message}))\r\n  }\r\n}\r\n\r\nexport const logoutTC = () => async (dispatch: any) => {\r\n  let promise = await authAPI.logout()\r\n  if (promise.data.resultCode === 0) {\r\n    dispatch(setAuthUserDataAC(null, null, null, false))\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__19xtY\",\"logo\":\"Header_logo__1kbZV\",\"loginBlock\":\"Header_loginBlock__1flqr\",\"searchBlock\":\"Header_searchBlock__1onPG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3NM6i\",\"item\":\"Dialogs_item__EkW7C\"};","export const required = (value: any) => {\r\n  if (value) {\r\n    return undefined\r\n  }\r\n  return 'поле обязательное...'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: any) => (value: any) => {\r\n  if (value.length > maxLength) {\r\n    return `не больше ${maxLength} символов`\r\n  }\r\n  return undefined\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControl_error__7iFlF\",\"formSummaryError\":\"FormsControl_formSummaryError__V2cQO\",\"formBlock\":\"FormsControl_formBlock__2m8Yu\",\"inputs\":\"FormsControl_inputs__2C9V3\",\"checkBox\":\"FormsControl_checkBox__2H8tp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__1lXpr\"};","export default __webpack_public_path__ + \"static/media/loader.d3fbaf2b.gif\";","import preolader from './loader.gif'\r\n\r\n\r\nexport const Preloader = () => {\r\n    return(\r\n        <div>\r\n            <img src={preolader} alt=\"\"/>\r\n        </div>\r\n    )\r\n}","import styles from './FormsControl.module.css'\r\n\r\nexport const FormControl = ({input, meta, child, ...props}: any) => {\r\n  const hasError = meta.touched && meta.error\r\n  return (\r\n      <div className={styles.formControl + ' ' + (\r\n          hasError\r\n              ? styles.error\r\n              : ''\r\n          )}>\r\n        <div>\r\n          {props.children}\r\n        </div>\r\n        {hasError ? <span>{meta.error}</span> : ''}\r\n      </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props: any) => {\r\n  const {input, meta, child, ...restProps}: any = props\r\n  return (\r\n      <FormControl {...props}>\r\n        <textarea {...input} {...restProps}/>\r\n      </FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props: any) => {\r\n  const {input, meta, child, ...restProps}: any = props\r\n  return (\r\n      <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n      </FormControl>\r\n  )\r\n}","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootReduxStateType} from \"../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n  isAuth: boolean\r\n}\r\n\r\nlet mapStateToPropsForRedirect = (state: RootReduxStateType): MapStatePropsType => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n  const RedirectComponent = (props: MapStatePropsType) => {\r\n    const {isAuth, ...restProps} = props\r\n    if (!isAuth) {\r\n      return <Redirect to='/login'/>\r\n    }\r\n    return <Component {...restProps as T}/>\r\n  }\r\n  return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import {PostsType} from \"../store\";\r\nimport {profileAPI} from \"../../api/api\";\r\nimport {ProfileDataType} from \"../../components/Profile/ProfileContainer\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_USER_STATUS = 'SET-USER-STATUS'\r\nconst DELETE_POST = 'DELETE-POST'\r\n\r\ntype ActionType =\r\n    AddPostAT\r\n    | setUsersProfileAT\r\n    | setUserStatusAT\r\n    | deletePostAT\r\n\r\n\r\ntype AddPostAT = {\r\n  type: 'ADD-POST'\r\n  newPostText: string\r\n}\r\ntype setUsersProfileAT = {\r\n  type: 'SET-USER-PROFILE'\r\n  profile: any\r\n}\r\n\r\ntype setUserStatusAT = {\r\n  type: 'SET-USER-STATUS'\r\n  status: string\r\n}\r\ntype deletePostAT = {\r\n  type: 'DELETE-POST'\r\n  postId: any\r\n}\r\n\r\ntype InitialType = {\r\n  posts: Array<PostsType>\r\n  profile: null | ProfileDataType\r\n  status: string\r\n}\r\n\r\nconst initialState: InitialType = {\r\n  posts: [\r\n    {id: 1, title: 'Первый пост для соц сети.', likeCounts: 22},\r\n    {id: 2, title: 'Второй пост, креатив не мое...', likeCounts: 19},\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nexport const profileReducer = (state: InitialType = initialState,\r\n                               action: ActionType) => {\r\n  console.log(action)\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost: PostsType = {id: 5, title: action.newPostText, likeCounts: 0}\r\n      return {\r\n        ...state,\r\n        posts: [newPost, ...state.posts],\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state, profile: action.profile\r\n      }\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state, status: action.status\r\n      }\r\n    case \"DELETE-POST\":\r\n      return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPostAC = (newPostText: string): AddPostAT => ({\r\n  type: ADD_POST,\r\n  newPostText\r\n})\r\nexport const setUsersProfile = (profile: any): setUsersProfileAT => ({\r\n  type: SET_USER_PROFILE,\r\n  profile\r\n})\r\n\r\nexport const setUserStatusAC = (status: string): setUserStatusAT => ({\r\n  type: SET_USER_STATUS,\r\n  status\r\n})\r\nexport const deletePost = (postId: any): deletePostAT => ({\r\n  type: DELETE_POST,\r\n  postId\r\n})\r\n\r\nexport const getUsersProfile = (userId: string) => async (dispatch: any) => {\r\n  let promise = await profileAPI.getUserByID(userId)\r\n  dispatch(setUsersProfile(promise.data))\r\n}\r\nexport const getUserStatus = (userId: string) => async (dispatch: any) => {\r\n  let promise = await profileAPI.getStatus(userId)\r\n  dispatch(setUserStatusAC(promise.data))\r\n}\r\nexport const userUpdateStatus = (status: string) => async (dispatch: any) => {\r\n  let promise = await profileAPI.updateStatus(status)\r\n  if (promise.data.resultCode === 0)\r\n    dispatch(setUserStatusAC(status))\r\n}\r\n"],"sourceRoot":""}