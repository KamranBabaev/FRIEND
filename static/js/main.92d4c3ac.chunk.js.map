{"version":3,"sources":["api/api.ts","components/Login/LoginFormik.module.css","components/Dialogs/Dialogs.module.css","components/Header/Header.module.css","components/Dialogs/DialogItem/DialogItem.module.css","redux/reducers/profile-reducers.ts","components/common/Preloader/loader.gif","components/common/Preloader/Preolader.tsx","hoc/withAuthRedirect.tsx","utils/helpers/object-helper.ts","redux/reducers/users-reducers.ts","components/Dialogs/Message/Message.module.css","components/Navbar/Navbar.module.css","components/Navbar/icons/avatar.png","components/Navbar/icons/profile.svg","components/Navbar/icons/friends.svg","components/Navbar/icons/messages.svg","components/Navbar/icons/news.svg","components/Navbar/icons/music.svg","components/Navbar/icons/settings.svg","components/Navbar/NavbarContainer.tsx","components/Navbar/Navbar.tsx","components/Header/Header.tsx","components/Header/searchICON.png","redux/reducers/auth-reducers.ts","components/Header/HeaderContainer.tsx","redux/reducers/app-reducers.ts","redux/reducers/dialogs-reducers.ts","components/Dialogs/DialogItem/avatar.png","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/DialogsContainer.tsx","components/Dialogs/Dialogs.tsx","components/Login/LoginFormik.tsx","App.tsx","redux/reducers/sidebar-reducers.ts","redux/redux-store.ts","index.tsx"],"names":["instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","isUnfollow","id","delete","isFollow","post","authAPI","getMe","login","email","password","rememberMe","captcha","logout","profileAPI","getUserByID","userId","getStatus","updateStatus","status","put","securityAPI","getCaptcha","module","exports","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","initialState","posts","title","likeCounts","profile","profileReducer","state","action","console","log","type","newPost","newPostText","filter","p","postId","addPostAC","setUserStatusAC","deletePost","getUsersProfile","dispatch","a","promise","data","getUserStatus","userUpdateStatus","resultCode","Preloader","className","src","preolader","alt","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","connect","props","restProps","to","updateObjectInArray","items","itemID","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SETUSERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","usersReducer","userID","followed","count","follow","unfollow","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","requestUsers","page","totalCount","followMode","unfollowMode","NavbarContainer","sidebar","friendElements","friend","f","style","avatar","name","navbar","navbarElements","activeClassName","activeLink","friends","messages","news","music","settings","titleFriends","Header","header","logo","searchBlock","width","height","placeholder","loginBlock","onClick","logoutTC","initState","captchaURL","setAuthUserDataAC","getCaptchaAC","getAuthUserDataTC","getCaptchaUrlTC","url","HeaderContainer","this","React","initialized","ADD_MESSAGE","dialogs","message","addMessageAC","newMessageText","DialogItem","dialogURL","dialog","nav","Message","DialogsContainer","compose","messagePage","dialogsItem","onAddMessage","useDispatch","dialogsElements","d","messagesElements","m","formik","useFormik","initialValues","onSubmit","values","resetForm","styles","dialogsBlock","d_items","handleSubmit","textForm","onChange","handleChange","value","Login","useSelector","validate","errors","test","length","formBlock","itemForm","htmlFor","checkbox","checked","ProfileContainer","lazy","UsersContainer","App","initializedAppTC","fallback","path","render","exact","withRouter","app","Promise","all","reducer","combineReducers","profilePage","usersPage","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.92d4c3ac.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"f96f3f30-1614-4efb-864a-596256d296ea\"\r\n  }\r\n})\r\n\r\ntype respGetMeType = {\r\n  resultCode: number\r\n  messages: string[]\r\n  data: {\r\n    id: number | null\r\n    email: string\r\n    login: string\r\n  }\r\n}\r\n\r\nexport const usersAPI = {\r\n  async getUsers(currentPage: number, pageSize: number) {\r\n    return await instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n  },\r\n  async isUnfollow(id: number) {\r\n    return await instance.delete(`follow/${id}`)\r\n  },\r\n  async isFollow(id: number) {\r\n    return await instance.post(`follow/${id}`, {})\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  async getMe() {\r\n    return await instance.get<respGetMeType>(`auth/me`)\r\n  },\r\n  async login(email: string, password: string, rememberMe: boolean = false, captcha: any) {\r\n    return await instance.post('auth/login', {email, password, rememberMe, captcha})\r\n  },\r\n  async logout() {\r\n    return await instance.delete('auth/login')\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  async getUserByID(userId: string) {\r\n    return await instance.get(`profile/${userId}`)\r\n  },\r\n  async getStatus(userId: string) {\r\n    return await instance.get(`profile/status/${userId}`)\r\n  },\r\n  async updateStatus(status: string) {\r\n    return await instance.put(`profile/status`, {status})\r\n  }\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptcha() {\r\n    return instance.get(`security/get-captcha-url`)\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBlock\":\"LoginFormik_formBlock__1IOmP\",\"itemForm\":\"LoginFormik_itemForm__1oJGi\",\"title\":\"LoginFormik_title__-E_i1\",\"checkbox\":\"LoginFormik_checkbox__20IXF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsBlock\":\"Dialogs_dialogsBlock__2kjAg\",\"dialogs\":\"Dialogs_dialogs__3NM6i\",\"textForm\":\"Dialogs_textForm__vvlFb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__19xtY\",\"logo\":\"Header_logo__1kbZV\",\"loginBlock\":\"Header_loginBlock__1flqr\",\"searchBlock\":\"Header_searchBlock__1onPG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__1lXpr\"};","import {profileAPI} from \"../../api/api\";\r\nimport {ProfileDataType} from \"../../components/Profile/ProfileContainer\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_USER_STATUS = 'SET-USER-STATUS'\r\nconst DELETE_POST = 'DELETE-POST'\r\n\r\ntype ActionType =\r\n    AddPostAT\r\n    | setUsersProfileAT\r\n    | setUserStatusAT\r\n    | deletePostAT\r\n\r\n\r\ntype AddPostAT = {\r\n  type: 'ADD-POST'\r\n  newPostText: string\r\n}\r\ntype setUsersProfileAT = {\r\n  type: 'SET-USER-PROFILE'\r\n  profile: any\r\n}\r\n\r\ntype setUserStatusAT = {\r\n  type: 'SET-USER-STATUS'\r\n  status: string\r\n}\r\ntype deletePostAT = {\r\n  type: 'DELETE-POST'\r\n  postId: any\r\n}\r\n\r\ntype InitialType = {\r\n  posts: Array<any>\r\n  profile: null | ProfileDataType\r\n  status: string\r\n}\r\n\r\nconst initialState: InitialType = {\r\n  posts: [\r\n    {id: 1, title: 'Первый пост для соц сети.', likeCounts: 22},\r\n    {id: 2, title: 'Второй пост, креатив не мое...', likeCounts: 19},\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nexport const profileReducer = (state: InitialType = initialState,\r\n                               action: ActionType) => {\r\n  console.log(action)\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost: any = {id: 5, title: action.newPostText, likeCounts: 0}\r\n      return {\r\n        ...state,\r\n        posts: [newPost, ...state.posts],\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state, profile: action.profile\r\n      }\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state, status: action.status\r\n      }\r\n    case \"DELETE-POST\":\r\n      return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPostAC = (newPostText: string): AddPostAT => ({\r\n  type: ADD_POST,\r\n  newPostText\r\n})\r\nexport const setUsersProfile = (profile: any): setUsersProfileAT => ({\r\n  type: SET_USER_PROFILE,\r\n  profile\r\n})\r\n\r\nexport const setUserStatusAC = (status: string): setUserStatusAT => ({\r\n  type: SET_USER_STATUS,\r\n  status\r\n})\r\nexport const deletePost = (postId: any): deletePostAT => ({\r\n  type: DELETE_POST,\r\n  postId\r\n})\r\n\r\nexport const getUsersProfile = (userId: string) => async (dispatch: any) => {\r\n  let promise = await profileAPI.getUserByID(userId)\r\n  dispatch(setUsersProfile(promise.data))\r\n}\r\nexport const getUserStatus = (userId: string) => async (dispatch: any) => {\r\n  let promise = await profileAPI.getStatus(userId)\r\n  dispatch(setUserStatusAC(promise.data))\r\n}\r\nexport const userUpdateStatus = (status: string) => async (dispatch: any) => {\r\n  let promise = await profileAPI.updateStatus(status)\r\n  if (promise.data.resultCode === 0)\r\n    dispatch(setUserStatusAC(status))\r\n}\r\n","export default __webpack_public_path__ + \"static/media/loader.d3fbaf2b.gif\";","import preolader from './loader.gif'\r\n\r\n\r\nexport const Preloader = () => {\r\n    return(\r\n        <div className='preloader'>\r\n            <img src={preolader} alt=\"\"/>\r\n        </div>\r\n    )\r\n}","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootReduxStateType} from \"../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n  isAuth: boolean\r\n}\r\n\r\nlet mapStateToPropsForRedirect = (state: RootReduxStateType): MapStatePropsType => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n  const RedirectComponent = (props: MapStatePropsType) => {\r\n    const {isAuth, ...restProps} = props\r\n    if (!isAuth) {\r\n      return <Redirect to='/login'/>\r\n    }\r\n    return <Component {...restProps as T}/>\r\n  }\r\n  return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","export const updateObjectInArray = (items: any, itemID: any, objPropName: any, newObjProps: any) => {\r\n  // @ts-ignore\r\n  return items.map(u => {\r\n        if (u[objPropName] === itemID) {\r\n          return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n      }\r\n  )\r\n}","import {usersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/helpers/object-helper\";\r\n\r\ntype actionType =\r\n    followType\r\n    | unFollowType\r\n    | setUsersType\r\n    | currentPageType\r\n    | setTotalUsersCountType\r\n    | setIsFetchingType\r\n    | setIsFollowingType\r\n\r\ntype followType = {\r\n  type: 'FOLLOW'\r\n  userID: number\r\n}\r\n\r\ntype unFollowType = {\r\n  type: 'UNFOLLOW'\r\n  userID: number\r\n}\r\n\r\ntype setUsersType = {\r\n  type: 'SET-USERS'\r\n  users: UserType[]\r\n}\r\n\r\ntype currentPageType = {\r\n  type: 'SET-CURRENT-PAGE'\r\n  currentPage: number\r\n}\r\n\r\ntype setTotalUsersCountType = {\r\n  type: 'SET-TOTAL-USERS-COUNT'\r\n  count: number\r\n}\r\n\r\ntype setIsFetchingType = {\r\n  type: 'TOGGLE-IS-FETCHING'\r\n  isFetching: boolean\r\n}\r\n\r\ntype setIsFollowingType = {\r\n  type: 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n  isFetching: boolean\r\n  userId: number\r\n}\r\n\r\ntype UsersType = {\r\n  users: Array<UserType>\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n}\r\n\r\nexport type UserType = {\r\n  name: string\r\n  id: number\r\n  photos: {\r\n    small: string | null\r\n    large: string | null\r\n  }\r\n  status: string\r\n  followed: boolean\r\n\r\n}\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SETUSERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: UsersType = initialState, action: actionType): UsersType => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n      }\r\n\r\n    case SETUSERS:\r\n      return {...state, users: action.users}\r\n\r\n    case SET_CURRENT_PAGE: {\r\n      return {...state, currentPage: action.currentPage}\r\n    }\r\n\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return {...state, totalUsersCount: action.count}\r\n    }\r\n\r\n    case TOGGLE_IS_FETCHING: {\r\n      return {...state, isFetching: action.isFetching}\r\n    }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n            ? [...state.followingInProgress, action.userId]\r\n            : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nexport const follow = (userID: number): followType => ({type: FOLLOW, userID})\r\nexport const unfollow = (userID: number): unFollowType => ({\r\n  type: UNFOLLOW,\r\n  userID\r\n})\r\nexport const setUsers = (users: Array<UserType>): setUsersType => ({\r\n  type: SETUSERS,\r\n  users\r\n})\r\nexport const setCurrentPage = (currentPage: number): currentPageType => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage\r\n})\r\nexport const setTotalUsersCount = (count: number): setTotalUsersCountType => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count\r\n})\r\nexport const toggleIsFetching = (isFetching: boolean): setIsFetchingType => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching\r\n})\r\n\r\nexport const toggleIsFollowingProgress = (isFetching: boolean,\r\n                                          userId: number): setIsFollowingType => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n})\r\n\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let promise = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(promise.data.items))\r\n    dispatch(setTotalUsersCount(promise.data.totalCount))\r\n  }\r\n}\r\n\r\nexport const followMode = (id: number) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, id))\r\n    let promise = await usersAPI.isFollow(id)\r\n    if (promise.data.resultCode === 0) {\r\n      dispatch(follow(id))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, id))\r\n  }\r\n}\r\n\r\nexport const unfollowMode = (id: number) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, id))\r\n    let promise = await usersAPI.isUnfollow(id)\r\n    if (promise.data.resultCode === 0) {\r\n      dispatch(unfollow(id))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, id))\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Message_messages__32cnW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2kShT\",\"navbarElements\":\"Navbar_navbarElements__1QKN0\",\"items\":\"Navbar_items__2hxzF\",\"friend\":\"Navbar_friend__3KIsM\",\"titleFriends\":\"Navbar_titleFriends__2Ne7I\"};","export default __webpack_public_path__ + \"static/media/avatar.7bdf7b93.png\";","export default __webpack_public_path__ + \"static/media/profile.a296afc6.svg\";","export default __webpack_public_path__ + \"static/media/friends.cc1aa831.svg\";","export default __webpack_public_path__ + \"static/media/messages.7be6e02d.svg\";","export default __webpack_public_path__ + \"static/media/news.12440c92.svg\";","export default __webpack_public_path__ + \"static/media/music.af606310.svg\";","export default __webpack_public_path__ + \"static/media/settings.f00ed622.svg\";","import {connect} from \"react-redux\";\r\nimport {Navbar} from \"./Navbar\";\r\n\r\n\r\nconst mapStateToProps = (state: any): any => {\r\n    return {\r\n        sidebar: state.sidebar\r\n    }\r\n}\r\n\r\nexport const NavbarContainer = connect(mapStateToProps) (Navbar);","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from './Navbar.module.css'\r\nimport avatar from './icons/avatar.png'\r\nimport profile from './icons/profile.svg'\r\nimport friends from './icons/friends.svg'\r\nimport messages from './icons/messages.svg'\r\nimport news from './icons/news.svg'\r\nimport music from './icons/music.svg'\r\nimport settings from './icons/settings.svg'\r\n\r\nexport const Navbar = (props: any) => {\r\n\r\n    // @ts-ignore\r\n    const friendElements = props.sidebar.friend.map(f => <div className={style.friend} key={f.id}>\r\n        <img src={avatar} alt=''/>\r\n        {f.name}\r\n    </div>)\r\n\r\n    return (\r\n        <div className={style.navbar}>\r\n            <div className={style.navbarElements}>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/profile'>\r\n                        <img src={profile} alt=''/>\r\n                        Профиль\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/users'>\r\n                        <img src={friends} alt=''/>\r\n                        Друзья\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/dialogs'>\r\n                        <img src={messages} alt=''/>\r\n                        Сообщения\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/news'>\r\n                        <img src={news} alt=''/>\r\n                        Новости\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/music'>\r\n                        <img src={music} alt=''/>\r\n                        Музыка\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.items}>\r\n                    <NavLink activeClassName={style.activeLink} to='/settings'>\r\n                        <img src={settings} alt=''/>\r\n                        Настройки\r\n                    </NavLink>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={style.friends}>\r\n                <div className={style.titleFriends}>Друзья онлайн:</div>\r\n                {friendElements}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from './Header.module.css'\r\nimport searchICON from './searchICON.png'\r\n\r\ntype HeaderPropsType = {\r\n  isAuth: boolean\r\n  login: string | null\r\n  logoutTC: () => void\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n  return (\r\n      <div className={style.header}>\r\n        <div className={style.logo}>FRND</div>\r\n        <div className={style.searchBlock}>\r\n          <img src={searchICON} width={28} height={28} alt=''/>\r\n          <input placeholder='поиск...'/>\r\n        </div>\r\n        <div className={style.loginBlock}>\r\n          {props.isAuth\r\n              ? <div>{props.login}\r\n                <button onClick={props.logoutTC}>\r\n                  выйти\r\n                </button>\r\n              </div>\r\n              : <NavLink to={'/login'}>LOGIN</NavLink>\r\n          }\r\n        </div>\r\n      </div>\r\n  )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAACC0lEQVRo3u2YP08CMRiHD00QNm8k4cTRHaJx12/AqB9DRxJX4wThA+gGGlZ1gI3EEWf/kGiMm4NGEg36uBhtywXuLj3aob+Npr/y5Pr27dvX85ycnJyckotlqtTpMmQEjBjSpU6VZRMw23T4IFwfdNieJ8wmV8zWFZvzgMnR5Jto+qZJLl2cgAHxNCBID2eNR+LrkbW0vs4kzhstdqhQ9DyKVNihxVsIUpBG7Kib9cI+SyEzl9jnZWLjdMcSTeUvWvhTZvu0lPlN3Qf9Szo9tQiemnQav7QmASXv1CK6anJe0pmV5c3KRPRllI3Tlb3pSKHsx3D6Unh39OD40p21F9O9J91xvg6gqrDkK/mY7jyvgr+qA6ghLNhO4G8L/oYOoJ6w4G4C/67g7+kAehAWLCfwlwX/gw4gMQYKwvhUCfMKYgzqABoLC2YTAGWF4U/bvtCzbTE0sO2UXdqWh45sy9Q6rleNd9l7WIVp8rY/ta0eqthVMV7YVVOPWbfr1XFg17usz6JNL1c4ZsGet/2/hqya7370ORF+3VMy2R8ac8AiC9KYfqTIHbRzNkIrpzSQZvQY3zkTKyeGc0Ga6MI+cU2XQ7bU1gur3CtId6yYbSCXHFJCpMA00p2CdGsaacUhJUQqmkUKuFWQbhzSTCTTQAqSeRzP8zyK3FiE84dkD84vkk04Tk5OTk6x9QODdupMk0QS6AAAAABJRU5ErkJggg==\"","import {authAPI, securityAPI} from \"../../api/api\";\r\n\r\ntype actionType = SetUserDataActionType | GetCaptchaActionType\r\nexport type SetUserDataActionType = ReturnType<typeof setAuthUserDataAC>;\r\nexport type GetCaptchaActionType = ReturnType<typeof getCaptchaAC>;\r\ntype InitStateType = {\r\n  id: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n  captchaURL: string | null\r\n}\r\n\r\nconst initState: InitStateType = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaURL: null\r\n}\r\n\r\nexport const authReducer = (\r\n    state: InitStateType = initState,\r\n    action: actionType): InitStateType => {\r\n\r\n  switch (action.type) {\r\n    case 'AUTH/SET-USER-DATA':\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n    case 'AUTH/GET-CAPTCHA-SUCCESS':\r\n      return {\r\n        ...state,\r\n        captchaURL: action.captchaURL\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserDataAC = (userId: number | null,\r\n                                  email: string | null,\r\n                                  login: string | null,\r\n                                  isAuth: boolean) =>\r\n    ({\r\n      type: 'AUTH/SET-USER-DATA',\r\n      data: {userId, email, login, isAuth}\r\n    } as const);\r\n\r\nexport const getCaptchaAC = (captchaURL: string | null) => ({\r\n  type: 'AUTH/GET-CAPTCHA-SUCCESS',\r\n  captchaURL\r\n} as const)\r\n\r\n\r\nexport const getAuthUserDataTC = () => async (dispatch: any) => {\r\n  const promise = await authAPI.getMe()\r\n  if (promise.data.resultCode === 0) {\r\n    let {id, email, login} = promise.data.data\r\n    dispatch(setAuthUserDataAC(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const loginTC = (email: string,\r\n                        password: string,\r\n                        rememberMe: boolean,\r\n                        captcha: any) => async (dispatch: any) => {\r\n  const promise = await authAPI.login(email, password, rememberMe, captcha)\r\n  if (promise.data.resultCode === 0) {\r\n    dispatch(getAuthUserDataTC())\r\n  } else {\r\n    if (promise.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrlTC())\r\n    }\r\n    let message = promise.data.messages.length > 0 ? promise.data.messages[0] : 'some error';\r\n  }\r\n}\r\n\r\nexport const logoutTC = () => async (dispatch: any) => {\r\n  const promise = await authAPI.logout()\r\n  if (promise.data.resultCode === 0) {\r\n    dispatch(setAuthUserDataAC(null, null, null, false))\r\n  }\r\n}\r\nexport const getCaptchaUrlTC = () => async (dispatch: any) => {\r\n  const promise = await securityAPI.getCaptcha()\r\n  const captchaURL = promise.data.url\r\n  dispatch(getCaptchaAC(captchaURL))\r\n}\r\n","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutTC} from \"../../redux/reducers/auth-reducers\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n\r\n  render() {\r\n    return <Header login={this.props.login}\r\n                   isAuth={this.props.isAuth}\r\n                   logoutTC={this.props.logoutTC}/>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): MapStatePropsType => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps,\r\n    {logoutTC})(HeaderContainer)\r\n\r\n// types\r\ntype MapStatePropsType = {\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n  logoutTC: () => void\r\n}\r\ntype HeaderContainerType = MapStatePropsType & MapDispatchPropsType","import {getAuthUserDataTC} from \"./auth-reducers\";\r\n\r\ntype actionType = setInitializedAT\r\ntype InitStateType = {\r\n  initialized: boolean\r\n}\r\nexport type setInitializedAT = ReturnType<typeof setInitializedAC>\r\n\r\nconst initState: InitStateType = {\r\n  initialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitStateType = initState,\r\n                           action: actionType): InitStateType => {\r\n\r\n  switch (action.type) {\r\n    case 'SET_INITIALIZED':\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setInitializedAC = () => ({type: 'SET_INITIALIZED'} as const);\r\n\r\nexport const initializedAppTC = () => async (dispatch: any) => {\r\n  let promise = dispatch(getAuthUserDataTC())\r\n  await Promise.all([promise])\r\n  dispatch(setInitializedAC())\r\n}","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\ntype AddMessageAT = {\r\n  type: 'ADD-MESSAGE'\r\n  newMessageText: string\r\n}\r\n\r\ntype ActionType = AddMessageAT\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {id: 1, name: 'Василий'},\r\n    {id: 2, name: 'Петр'},\r\n  ],\r\n\r\n  messages: [\r\n    {id: 1, message: 'Привет, как дела?'},\r\n    {id: 2, message: 'Пошли пройдемся!'},\r\n  ],\r\n}\r\n\r\nexport const dialogsReducer = (state: any = initialState, action: ActionType) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        dialogs: [...state.dialogs],\r\n        messages: [...state.messages, {id: 10, message: action.newMessageText}],\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addMessageAC = (newMessageText: string): AddMessageAT => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageText\r\n})","export default __webpack_public_path__ + \"static/media/avatar.8f6f0a61.png\";","import React from \"react\";\r\nimport style from './DialogItem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport avatar from './avatar.png'\r\n\r\n\r\nexport const DialogItem = (props: any) => {\r\n\r\n    let dialogURL = '/dialogs/' + props.id\r\n\r\n    return (\r\n        <div className={style.dialog}>\r\n            <NavLink activeClassName={style.nav} to={dialogURL}>\r\n                <img src={avatar}/>\r\n                {props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport style from \"./Message.module.css\";\r\n\r\ntype MessagePropsType = {\r\n    message: string\r\n}\r\n\r\n\r\nexport const Message = (props: MessagePropsType) => {\r\n\r\n    return (\r\n        <div className={style.messages}>\r\n            {props.message}\r\n        </div>\r\n\r\n    )\r\n}","import React from \"react\";\r\nimport {addMessageAC} from \"../../redux/reducers/dialogs-reducers\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\n\r\ntype mapStateToProps = {\r\n  messages: Array<any>\r\n  dialogsItem: Array<any>\r\n  newMessageText: string\r\n}\r\n\r\ntype mapDispatchToProps = {\r\n  onAddMessage: (newMessageText: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxStateType): mapStateToProps => {\r\n\r\n  return {\r\n    messages: state.messagePage.messages,\r\n    dialogsItem: state.sidebar.friend,\r\n    newMessageText: state.messagePage.newMessageText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): mapDispatchToProps => {\r\n  return {\r\n    onAddMessage: (newMessageText: string) => {\r\n      dispatch(addMessageAC(newMessageText))\r\n    }\r\n  }\r\n}\r\n\r\nexport const DialogsContainer = compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n","import React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useFormik} from \"formik\";\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport {addMessageAC} from \"../../redux/reducers/dialogs-reducers\";\r\nimport styles from \"./Dialogs.module.css\";\r\n\r\ntype DialogsType = {\r\n  onAddMessage: (newMessageText: string) => void\r\n  messages: Array<any>\r\n  dialogsItem: Array<any>\r\n}\r\n\r\nexport const Dialogs = (props: DialogsType) => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  let dialogsElements = props.dialogsItem\r\n      .map(d => <DialogItem id={d.id} name={d.name} key={d.id}/>)\r\n\r\n  let messagesElements = props.messages\r\n      .map(m => <Message message={m.message} key={m.id}/>)\r\n\r\n  const formik = useFormik({\r\n        initialValues: {\r\n          newMessageText: ''\r\n        },\r\n\r\n        onSubmit: values => {\r\n          dispatch(addMessageAC(values.newMessageText))\r\n          formik.resetForm()\r\n        },\r\n      }\r\n  )\r\n\r\n  return (\r\n      <div className={styles.dialogsBlock}>\r\n        <div className={styles.dialogs}>\r\n          <div className={styles.d_items}>\r\n            {dialogsElements}\r\n          </div>\r\n          <div className={styles.messages}>\r\n            {messagesElements}\r\n          </div>\r\n        </div>\r\n        <form onSubmit={formik.handleSubmit}>\r\n          <div className={styles.textForm}>\r\n            <textarea name=\"newMessageText\"\r\n                      onChange={formik.handleChange}\r\n                      value={formik.values.newMessageText}\r\n            />\r\n          </div>\r\n          <button type=\"submit\">отправить</button>\r\n        </form>\r\n      </div>\r\n  );\r\n};","import React from 'react';\r\nimport {useFormik} from 'formik';\r\nimport {loginTC} from \"../../redux/reducers/auth-reducers\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"./LoginFormik.module.css\";\r\n\r\ntype FormikErrorType = {\r\n  email?: string\r\n  password?: string\r\n  rememberMe?: boolean\r\n}\r\n\r\nexport const Login = () => {\r\n  const dispatch = useDispatch()\r\n  const isAuth = useSelector<RootReduxStateType, boolean>(state => state.auth.isAuth)\r\n\r\n  const formik = useFormik({\r\n        initialValues: {\r\n          email: '',\r\n          password: '',\r\n          rememberMe: false,\r\n        },\r\n\r\n        validate: (values) => {\r\n          const errors: FormikErrorType = {};\r\n          if (!formik.values.email) {\r\n            errors.email = 'Required';\r\n          } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(formik.values.email)) {\r\n            errors.email = 'Invalid email address';\r\n          }\r\n          return errors;\r\n        },\r\n\r\n        onSubmit: values => {\r\n          dispatch(loginTC(values.email, values.password, false, false))\r\n          formik.resetForm()\r\n        },\r\n      }\r\n  );\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={'/profile'}/>\r\n  }\r\n\r\n  return (\r\n      <form onSubmit={formik.handleSubmit} className={styles.formBlock}>\r\n\r\n        <div className={styles.itemForm}>\r\n          <label className={styles.title} htmlFor=\"email\">\r\n            Email: </label>\r\n          <input\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              onChange={formik.handleChange}\r\n              value={formik.values.email}\r\n          />\r\n        </div>\r\n\r\n        <div className={styles.itemForm}>\r\n          <label className={styles.title} htmlFor=\"password\">\r\n            Password: </label>\r\n          <input\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              onChange={formik.handleChange}\r\n              value={formik.values.password}\r\n          />\r\n        </div>\r\n\r\n        <div className={styles.checkbox}>\r\n          <input\r\n              type=\"checkbox\"\r\n              name=\"rememberMe\"\r\n              checked={formik.values.rememberMe}\r\n              onChange={formik.handleChange}\r\n          />\r\n          <label className={styles.title} htmlFor=\"checkbox\">\r\n            запомнить меня</label>\r\n        </div>\r\n\r\n        <button type=\"submit\">войти</button>\r\n      </form>\r\n  );\r\n};\r\n","import React, {Component, ComponentType, Suspense} from 'react';\nimport './App.css';\nimport {Route, withRouter} from 'react-router-dom';\nimport {NavbarContainer} from \"./components/Navbar/NavbarContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializedAppTC} from \"./redux/reducers/app-reducers\";\nimport {RootReduxStateType} from \"./redux/redux-store\";\nimport {Preloader} from \"./components/common/Preloader/Preolader\";\nimport {DialogsContainer} from \"./components/Dialogs/DialogsContainer\";\nimport {Login} from \"./components/Login/LoginFormik\";\n\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\n\n\nclass App extends Component<PropsType> {\n\n  componentDidMount() {\n    this.props.initializedAppTC();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n\n    return (\n        <div className=\"App-wrapper\">\n          <HeaderContainer/>\n          <NavbarContainer/>\n          <div className='App-wrapper-content'>\n            <Suspense fallback={<div>Загрузка...</div>}>\n              <Route path='/profile/:userId?'\n                     render={() => <ProfileContainer/>}\n              />\n              <Route exact path='/dialogs'\n                     render={() => <DialogsContainer/>}\n              />\n              <Route exact path='/users'\n                     render={() => <UsersContainer/>}\n              />\n              <Route exact path='/login'\n                     render={() => <Login/>}\n              />\n            </Suspense>\n          </div>\n        </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: RootReduxStateType) => ({\n  initialized: state.app.initialized,\n})\n\nexport default compose<ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializedAppTC})\n)(App)\n\n\n// types\ntype MapDispatchToPropsType = {\n  initializedAppTC: () => void\n}\ntype MapStateToPropsType = {\n  initialized: boolean\n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\n","let initialState = {\r\n    friend: [\r\n        {id: 1, name: 'Николай'},\r\n        {id: 2, name: 'Андрей'},\r\n        {id: 3, name: 'Виктор'},\r\n        {id: 4, name: 'Стас'},\r\n        {id: 5, name: 'Алексей'},\r\n        {id: 6, name: 'Максим'},\r\n    ]\r\n}\r\n\r\nexport const sidebarReducer = (state: any = initialState, action: any) => {\r\n    return state\r\n}","import {createStore, combineReducers, applyMiddleware} from 'redux'\r\nimport {dialogsReducer} from \"./reducers/dialogs-reducers\";\r\nimport {profileReducer} from \"./reducers/profile-reducers\";\r\nimport {sidebarReducer} from \"./reducers/sidebar-reducers\";\r\nimport {usersReducer} from \"./reducers/users-reducers\";\r\nimport {authReducer} from \"./reducers/auth-reducers\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {appReducer} from \"./reducers/app-reducers\";\r\n\r\nexport const reducer = combineReducers(\r\n    {\r\n      profilePage: profileReducer,\r\n      messagePage: dialogsReducer,\r\n      sidebar: sidebarReducer,\r\n      usersPage: usersReducer,\r\n      auth: authReducer,\r\n      app: appReducer,\r\n    }\r\n)\r\n\r\nexport type RootReduxStateType = ReturnType<typeof reducer>\r\n\r\nexport const store = createStore(reducer, applyMiddleware(thunkMiddleware))\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./redux/redux-store\";\n\nReactDOM.render(\n    <BrowserRouter>\n      <Provider store={store}>\n        <App/>\n      </Provider>\n    </BrowserRouter>, document.getElementById('root')\n)\n\n"],"sourceRoot":""}